{
  "filename": "vscode_remote-container_dotfiles.adoc",
  "rendered": [
    "<div id=\"toc\" class=\"toc\">",
    "<div id=\"toctitle\">目次</div>",
    "<ul class=\"sectlevel1\">",
    "<li><a href=\"#_はじめに\">はじめに🏃</a></li>",
    "<li><a href=\"#_dotfiles_だけ再クローンインストールする方法\"><em>Dotfiles</em> だけ再クローン＆インストールする方法🐕</a></li>",
    "<li><a href=\"#_おわりに\">おわりに😎</a></li>",
    "</ul>",
    "</div>",
    "<div class=\"sect1\">",
    "<h2 id=\"_はじめに\">はじめに🏃</h2>",
    "<div class=\"sectionbody\">",
    "<div class=\"paragraph\">",
    "<p><em>VS Code</em> の <em>Remote Containers</em> 拡張機能を使って開発するのが便利。</p>",
    "</div>",
    "<div class=\"paragraph\">",
    "<p>そんな中で <em>GitHub</em> 管理していた <em>Dotfiles</em> を環境構築中に変更したため、再度クローン＆インストールを行いたいときがまれにある。<br>",
    "<em>Dotfiles</em> のためだけにコンテナを再構築させるのもどうかな～っていうときの方法についてのメモ。</p>",
    "</div>",
    "<div class=\"admonitionblock note\">",
    "<table>",
    "<tr>",
    "<td class=\"icon\">",
    "<i class=\"fa icon-note\" title=\"Note\" data-md-icon=\"info\"></i>",
    "</td>",
    "<td class=\"content\">",
    "つまりめちゃくちゃ限定的というかニッチというか……。<br>",
    "コンテナ再構築するだけでいいし……。",
    "</td>",
    "</tr>",
    "</table>",
    "</div>",
    "<table class=\"tableblock frame-all grid-all stretch\">",
    "<caption class=\"title\">Table 1. 実行環境</caption>",
    "<colgroup>",
    "<col style=\"width: 50%;\">",
    "<col style=\"width: 50%;\">",
    "</colgroup>",
    "<thead>",
    "<tr>",
    "<th class=\"tableblock halign-left valign-top\">App</th>",
    "<th class=\"tableblock halign-left valign-top\">Version</th>",
    "</tr>",
    "</thead>",
    "<tbody>",
    "<tr>",
    "<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\"><em>VS Code</em></p></td>",
    "<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">1.53.2</p></td>",
    "</tr>",
    "<tr>",
    "<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\"><em>Remote - Containers</em></p></td>",
    "<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">0.158.0</p></td>",
    "</tr>",
    "</tbody>",
    "</table>",
    "</div>",
    "</div>",
    "<div class=\"sect1\">",
    "<h2 id=\"_dotfiles_だけ再クローンインストールする方法\"><em>Dotfiles</em> だけ再クローン＆インストールする方法🐕</h2>",
    "<div class=\"sectionbody\">",
    "<div class=\"admonitionblock caution\">",
    "<table>",
    "<tr>",
    "<td class=\"icon\">",
    "<i class=\"fa icon-caution\" title=\"Caution\" data-md-icon=\"local_fire_department\"></i>",
    "</td>",
    "<td class=\"content\">",
    "通常の使い方ではコンテナを再構築すればいいだけなことに注意。",
    "</td>",
    "</tr>",
    "</table>",
    "</div>",
    "<div class=\"olist arabic\">",
    "<div class=\"title\">コンテナを再構築させないでやる方法</div>",
    "<ol class=\"arabic\">",
    "<li>",
    "<p><em>VS Code</em> で <em>Remote Containers</em> 接続する。</p>",
    "</li>",
    "<li>",
    "<p>コンテナ内の <code>~/.vscode-server/data/Machine/.dotfilesMarker</code> ファイルを削除する。</p>",
    "<div class=\"paragraph\">",
    "<p>このファイルが存在すると <em>Dotfiles</em> のクローン＆インストール作業がスキップされてしまうため。</p>",
    "</div>",
    "<div ",
    "    class=\"listingblock no-line-numbers command-line\">",
    "",
    "  <div class=\"content\">",
    "  <pre class=\"highlight command-line\" data-host=\"remote\"",
    "    data-user=\"vscode\"",
    "    ><code class=\"language-bash\"",
    "    data-lang=\"bash\">rm ~/.vscode-server/data/Machine/.dotfilesMarker</code></pre>",
    "  </div>",
    "</div>",
    "</li>",
    "<li>",
    "<p><em>Remote Containers</em> を再接続する。</p>",
    "<div class=\"paragraph\">",
    "<p>再接続すると <em>Dotfiles</em> の再クローン＆インストール処理が行われる。</p>",
    "</div>",
    "</li>",
    "</ol>",
    "</div>",
    "<hr>",
    "<div class=\"paragraph\">",
    "<p>以上。</p>",
    "</div>",
    "</div>",
    "</div>",
    "<div class=\"sect1\">",
    "<h2 id=\"_おわりに\">おわりに😎</h2>",
    "<div class=\"sectionbody\">",
    "<div class=\"paragraph\">",
    "<p>この情報が欲しかったのは、実は<a href=\"https://code.visualstudio.com/docs/remote/containers-advanced#_avoiding-extension-reinstalls-on-container-rebuild\" target=\"_blank\" rel=\"noopener\">コンテナ再構築するたびに拡張機能を再インストールすることを避ける</a>方法を間違えてたせい。<br>",
    "うっかり <code>~/.vscode-server</code> ディレクトリをマウントしてたので「あれ？コンテナ再構築しても <em>Dotfiles</em> が再クローンされない……」ってなってた。</p>",
    "</div>",
    "<div class=\"paragraph\">",
    "<p>正しいやり方ならばコンテナ再構築したときに <em>Dotfiles</em> もクローンし直されるので、上記説明は要らない子になる……😥。</p>",
    "</div>",
    "</div>",
    "</div>"
  ],
  "title": "【VS Code】Remote Containers 拡張機能において Dotfiles を再クローン＆インストールさせる",
  "created_at": "2021-04-12",
  "tags": [
    "vscode",
    "remote-containers",
    "dotfiles",
    "備忘録"
  ],
  "updated_at": "2021-04-12",
  "author": "秋々すすき",
  "revision": "1.0"
}