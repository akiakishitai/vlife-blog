{"filename":"yaml_template_tool.adoc","rendered":"<div id=\"toc\" class=\"toc\">\n<div id=\"toctitle\">ç›®æ¬¡</div>\n<ul class=\"sectlevel1\">\n<li><a href=\"#_ã¯ã˜ã‚ã«\">ğŸ¨ã¯ã˜ã‚ã«</a>\n<ul class=\"sectlevel2\">\n<li><a href=\"#_ä½¿ã£ã¦ã¿ãŸæ„Ÿæƒ³\">ä½¿ã£ã¦ã¿ãŸæ„Ÿæƒ³</a></li>\n</ul>\n</li>\n<li><a href=\"#_ytt_yaml_templating_tool\">ğŸš€ <code>ytt</code> (<em>YAML Templating Tool</em>)</a>\n<ul class=\"sectlevel2\">\n<li><a href=\"#_ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a></li>\n<li><a href=\"#_ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³cliã§ã®å®Ÿè¡Œæ–¹æ³•\">ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ï¼ˆCLIï¼‰ã§ã®å®Ÿè¡Œæ–¹æ³•</a></li>\n</ul>\n</li>\n<li><a href=\"#_ytt_ã®æ–‡æ³•ã«ã¤ã„ã¦ã®ã‚µãƒ³ãƒ—ãƒ«é›†\">ğŸ“” <code>ytt</code> ã®æ–‡æ³•ã«ã¤ã„ã¦ã®ã‚µãƒ³ãƒ—ãƒ«é›†</a>\n<ul class=\"sectlevel2\">\n<li><a href=\"#_data-values\">å¤–éƒ¨ã®å¤‰æ•°ï¼ˆ <em>Data Values</em> ï¼‰</a>\n<ul class=\"sectlevel3\">\n<li><a href=\"#_json_ãƒ‡ãƒ¼ã‚¿ã‚’åˆ©ç”¨ã™ã‚‹\"><em>JSON</em> ãƒ‡ãƒ¼ã‚¿ã‚’åˆ©ç”¨ã™ã‚‹</a></li>\n</ul>\n</li>\n<li><a href=\"#_data_values_ã®å‹å®šç¾©data_values_schema\"><em>Data Values</em> ã®å‹å®šç¾©ï¼ˆ<em>Data Values Schema</em>ï¼‰</a>\n<ul class=\"sectlevel3\">\n<li><a href=\"#_schema_ã®æ‹¡å¼µ\"><em>Schema</em> ã®æ‹¡å¼µ</a></li>\n</ul>\n</li>\n<li><a href=\"#_overlays\">ãƒ‘ãƒƒãƒã®é©ç”¨ï¼ˆ <em>Overlays</em> ï¼‰</a>\n<ul class=\"sectlevel3\">\n<li><a href=\"#_å…±é€šã®è¨­å®šé …ç›®ã‚’å®šç¾©ã™ã‚‹\">å…±é€šã®è¨­å®šé …ç›®ã‚’å®šç¾©ã™ã‚‹</a></li>\n</ul>\n</li>\n<li><a href=\"#_template_ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«\"><em>Template</em> ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«</a></li>\n<li><a href=\"#_æ–‡å­—åˆ—ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆtext_templating\">æ–‡å­—åˆ—ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ<em>Text Templating</em> ï¼‰</a></li>\n<li><a href=\"#_ã‚³ãƒ¡ãƒ³ãƒˆ\">ã‚³ãƒ¡ãƒ³ãƒˆ</a></li>\n<li><a href=\"#_ãã®ä»–\">ãã®ä»–</a></li>\n</ul>\n</li>\n<li><a href=\"#_faq\">ğŸ£FAQ</a>\n<ul class=\"sectlevel2\">\n<li><a href=\"#_anchoralias_ã¯ä½¿ãˆã‚‹ã®\">anchor/alias ã¯ä½¿ãˆã‚‹ã®ï¼Ÿ</a></li>\n<li><a href=\"#_datavalues_ã§å®šç¾©ã—ãŸå¤‰æ•°ã‚’åˆ¥ã®_datavalues_ã‹ã‚‰å‚ç…§ã—ãŸã„\"><code>data/values</code> ã§å®šç¾©ã—ãŸå¤‰æ•°ã‚’åˆ¥ã® <code>data/values</code> ã‹ã‚‰å‚ç…§ã—ãŸã„</a></li>\n<li><a href=\"#_on_ã‚­ãƒ¼ãŒ_true_ã«å¤‰æ›ã•ã‚Œã¦ã—ã¾ã†\"><code>on</code> ã‚­ãƒ¼ãŒ <code>true</code> ã«å¤‰æ›ã•ã‚Œã¦ã—ã¾ã†</a></li>\n<li><a href=\"#_error_use_of_reserved_keyword_with_is_not_allowed\">Error: use of reserved keyword 'with' is not allowed</a></li>\n</ul>\n</li>\n<li><a href=\"#_ãŠã‚ã‚Šã«\">ğŸ˜ãŠã‚ã‚Šã«</a></li>\n<li><a href=\"#_å‚è€ƒ\">ğŸ“–å‚è€ƒ</a></li>\n</ul>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_ã¯ã˜ã‚ã«\">ğŸ¨ã¯ã˜ã‚ã«</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p><em>GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼</em> ã§ã¯ <em>YAML</em> ã®ã‚¢ãƒ³ã‚«ãƒ¼ã‚„ã‚¨ã‚¤ãƒªã‚¢ã‚¹ãŒä½¿ãˆãªã„ãŸã‚åŒã˜è¨­å®šã‚’ä½•åº¦ã‚‚è¨˜è¿°ã—ãªãã¦ã¯ãªã‚‰ãªã„å ´åˆãŒã‚ã‚‹ã€‚<br>\nã¨ã¦ã‚‚ã¤ã‚‰ã„ã€‚è¨­å®šã‚’å¤‰æ›´ã—ãŸã„ã¨ãã«ã¯å…¨ã¦ã®ç®‡æ‰€ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã£ã¦ã¤ã‚‰ã„ã€‚</p>\n</div>\n<div class=\"paragraph\">\n<p>ãã“ã§ <code>ytt</code> ã‚’ä½¿ãˆã°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ <em>YAML</em> ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆã§ãã‚‹ã®ã§æ¥½ãŒã§ããã†ã€‚<br>\nã¨æ€ã£ã¦è©¦ã—ã¦ã¿ãŸã‚µãƒ³ãƒ—ãƒ«ã‚’å‚™å¿˜éŒ²ã¨ã—ã¦æ®‹ã—ã¦ãŠãã€‚</p>\n</div>\n<div class=\"admonitionblock note\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-note\" title=\"Note\" data-md-icon=\"info\"></i>\n</td>\n<td class=\"content\">\næœ¬è¨˜äº‹ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³ <code>0.37.0</code> ã§ã®æƒ…å ±ã€‚\n</td>\n</tr>\n</table>\n</div>\n<div class=\"admonitionblock tip\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-tip\" title=\"Tip\" data-md-icon=\"emoji_objects\"></i>\n</td>\n<td class=\"content\">\n<em>GitHub</em> ã§ã¯2021å¹´8æœˆã‹ã‚‰ <a href=\"https://github.blog/changelog/2021-08-25-github-actions-reduce-duplication-with-action-composition/\" target=\"_blank\" rel=\"noopener\"><code>uses</code> ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒè¤‡åˆã‚¹ãƒ†ãƒƒãƒ—ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆ<em>Composite Action</em>ï¼‰ã§ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸ</a>ã®ã§ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹ã»ã†ãŒç°¡å˜ã‹ã‚‚ã—ã‚Œãªã„ã€‚\n</td>\n</tr>\n</table>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_ä½¿ã£ã¦ã¿ãŸæ„Ÿæƒ³\">ä½¿ã£ã¦ã¿ãŸæ„Ÿæƒ³</h3>\n<div class=\"dlist\">\n<dl>\n<dt class=\"hdlist1\"><span class=\"flex items-center text-green-500\"><span class=\"material-icons\">check</span>ãƒ¡ãƒªãƒƒãƒˆ</span></dt>\n<dd>\n<p><em>YAML</em> ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚ã‚‹éƒ¨åˆ†ã‚’å¤‰æ•°åŒ–ã—ã¦ä½¿ã„å›ã™ã‚ˆã†ãªç°¡å˜ãªå…±é€šåŒ–ã§ã‚ã‚Œã°ã€ã•ãã£ã¨è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®é©ç”¨ã‚‚ã§ãã¦ã†ã‚Œã—ã„ã€‚<br>\n<em>Overlays</em> ãŒã™ã”ã„ä¾¿åˆ©ã€‚</p>\n</dd>\n<dt class=\"hdlist1\"><span class=\"flex items-center text-red-500\"><span class=\"material-icons\">close</span>ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</span></dt>\n<dd>\n<p>è¤‡é›‘ãªå…±é€šåŒ–ã‚’ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€<a href=\"https://github.com/google/starlark-go\" target=\"_blank\" rel=\"noopener\"><em>Starlark</em> è¨€èª</a>ã‚’å­¦ã¶å¿…è¦ãŒã‚ã£ã¦ã—ã‚“ã©ã„ã€‚<br>\n<em>Overlays</em> ã®æŒ™å‹•ãŒãœã‚“ãœã‚“ã‚ã‹ã‚‰ã‚“ã€‚ãµã‚“ã„ãã§ä½¿ã£ã¦ã‚‹ã€‚</p>\n</dd>\n<dt class=\"hdlist1\">çµè«–</dt>\n<dd>\n<p>è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦ç°¡å˜ãªå…±é€šåŒ–ã‚’ã—ãŸã„ã¨ãã«ã¨ã¦ã‚‚ã†ã‚Œã—ã„ã€‚<br>\n<em>GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼</em> ã‚’è¤‡æ•°ä½œæˆã™ã‚‹å ´åˆã€åŒã˜è¨­å®šã‚’ç¹°ã‚Šè¿”ã—è¨˜è¿°ã™ã‚‹ã“ã¨ãŒå¤šã„ã®ã§åŠ©ã‹ã‚‹ã€‚</p>\n</dd>\n</dl>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_ytt_yaml_templating_tool\">ğŸš€ <a href=\"https://carvel.dev/ytt/\" target=\"_blank\" rel=\"noopener\"><code>ytt</code></a> (<em>YAML Templating Tool</em>)</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p><em>YAML</em> ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã€‚<br>\n<code>ytt</code> ã¯ <em>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</em> ãŠã‚ˆã³ <em>Data Values</em> ã‚„ <em>Overlays</em> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å—ã‘å–ã£ã¦ <em>YAML</em> ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‡ºåŠ›ã™ã‚‹ã€‚</p>\n</div>\n<div class=\"ulist\">\n<div class=\"title\">ç‰¹å¾´</div>\n<ul>\n<li>\n<p><em>Python</em> ã£ã½ã„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã‚ã‚‹ <a href=\"https://github.com/google/starlark-go\" target=\"_blank\" rel=\"noopener\"><em>Starlark</em> è¨€èª</a> ã‚’å†…è”µã—ã¦ã„ã‚‹ã€‚</p>\n</li>\n<li>\n<p><em>YAML</em> æ§‹é€ ã‚’æŠŠæ¡ã—ã¦ã„ã‚‹ã€‚</p>\n</li>\n<li>\n<p>ç’°å¢ƒå¤‰æ•°ã‚„ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã“ã¨ã§ã€è¨­å®šã®ä¸€éƒ¨ä¸Šæ›¸ããŒã§ãã‚‹ã€‚</p>\n</li>\n<li>\n<p><em>Go</em> è¨€èªè£½ãªã®ã§ã‚·ãƒ³ã‚°ãƒ«ãƒã‚¤ãƒŠãƒªã§åˆ©ç”¨ã§ãã‚‹ã€‚ä½¿ã„ã‚„ã™ã„ã€‚</p>\n</li>\n</ul>\n</div>\n<hr>\n<div class=\"paragraph\">\n<p><em>YAML</em> æ§‹é€ ã‚’æŠŠæ¡ã—ã¦ã„ã‚‹ã®ã§ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãªã©ã‚’æ›¸ãéš›ã«ã¯ <em>YAML</em> ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘åŠ ãˆã‚‹å½¢ã«ãªã‚‹ã€‚<br>\nã“ã®ãŸã‚æ–°ãŸã«è¦šãˆã‚‹ã“ã¨ãŒå°‘ãªã„ã®ã§ã€ã•ã£ã¨ä½¿ãˆã¦ä¾¿åˆ©ã€‚</p>\n</div>\n<div class=\"admonitionblock note\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-note\" title=\"Note\" data-md-icon=\"info\"></i>\n</td>\n<td class=\"content\">\n<div class=\"title\">ä»–ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆ<em>Jinja2</em> ã¨ã‹ï¼‰ã¨ã®æ¯”è¼ƒ</div>\n<a href=\"https://carvel.dev/ytt/docs/latest/ytt-vs-x/\" target=\"_blank\" rel=\"noopener\">ytt vs x</a> ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã€‚\n</td>\n</tr>\n</table>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>\n<div class=\"paragraph\">\n<p><a href=\"https://github.com/vmware-tanzu/carvel-ytt/releases\" target=\"_blank\" rel=\"noopener\"><em>GitHub</em> ã®ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸</a>ã‹ã‚‰ãƒã‚¤ãƒŠãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ <em>Path</em> ã‚’é€šã™ã ã‘ã€‚<br>\n<em>Go</em> è¨€èªè£½ã®ãƒ„ãƒ¼ãƒ«ã¯ã‚·ãƒ³ã‚°ãƒ«ãƒã‚¤ãƒŠãƒªã§åˆ©ç”¨ã§ãã‚‹ã®ãŒç´ æ•µã€‚</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³cliã§ã®å®Ÿè¡Œæ–¹æ³•\">ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ï¼ˆCLIï¼‰ã§ã®å®Ÿè¡Œæ–¹æ³•</h3>\n<div class=\"paragraph\">\n<p>ãƒ¡ã‚¤ãƒ³ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã ã‘ã§ãªãã€å¾Œè¿°ã™ã‚‹ <a href=\"#_data-values\"><em>Data Values</em></a> ã‚„ <a href=\"#_overlays\"><em>Overlays</em></a> ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ä¸€ç·’ã«èª­ã¿è¾¼ã¾ã›ã‚‹ã€‚</p>\n</div>\n<div class=\"exampleblock\">\n<div class=\"title\">Example 1. ytt ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œä¾‹</div>\n<div class=\"content\">\n<div \n    class=\"listingblock no-line-numbers command-line\">\n<div class=\"title\">å…¨ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®š</div>\n  <div class=\"content\">\n  <pre class=\"highlight command-line\" ><code class=\"language-bash\"\n    data-lang=\"bash\">ytt template \\\n  --file main.template.yml \\\n  --file common_data.yml</code></pre>\n  </div>\n</div>\n<div \n    class=\"listingblock no-line-numbers command-line\">\n<div class=\"title\">ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®š</div>\n  <div class=\"content\">\n  <pre class=\"highlight command-line\" ><code class=\"language-bash\"\n    data-lang=\"bash\">ytt template \\\n  --file path/to/template/dir \\    <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n  --file-mark '**/*ignore.yml:exclude=true'   <i class=\"conum\" data-value=\"2\"></i><b>(2)</b></code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td>æŒ‡å®šã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥ä¸‹ï¼ˆã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚‚å«ã‚€ï¼‰ã«ã‚ã‚‹å…¨ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"2\"></i><b>2</b></td>\n<td>é™¤å¤–ã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’æŒ‡å®šã€‚è©³ã—ãã¯ <a href=\"https://carvel.dev/ytt/docs/latest/file-marks/\" target=\"_blank\" rel=\"noopener\"><em>File Marks</em></a> ã‚’å‚ç…§ã€‚</td>\n</tr>\n</table>\n</div>\n<div \n    class=\"listingblock no-line-numbers command-line\">\n<div class=\"title\">ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã™ã‚‹å ´åˆ</div>\n  <div class=\"content\">\n  <pre class=\"highlight command-line\" ><code class=\"language-bash\"\n    data-lang=\"bash\">ytt template \\\n  --file config.yml \\\n  --output-files path/to/outputs/dir</code></pre>\n  </div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_ytt_ã®æ–‡æ³•ã«ã¤ã„ã¦ã®ã‚µãƒ³ãƒ—ãƒ«é›†\">ğŸ“” <code>ytt</code> ã®æ–‡æ³•ã«ã¤ã„ã¦ã®ã‚µãƒ³ãƒ—ãƒ«é›†</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>ã¨ã‚Šã‚ãˆãšã‚ˆãä½¿ã„ãã†ãªåˆ†ã ã‘ï¼ˆå®Ÿè£…ã‚³ã‚¹ãƒˆãŒé«˜ããªã‚‹åˆ¶å¾¡æ§‹æ–‡ï¼ˆifæ–‡ã‚„foræ–‡ï¼‰ãªã©ã¯é™¤å¤–ï¼‰ã€‚</p>\n</div>\n<div class=\"paragraph\">\n<p><code>ytt</code> ã‚’è©¦ã›ã‚‹ <a href=\"https://carvel.dev/ytt/#playground\" target=\"_blank\" rel=\"noopener\"><em>online playground</em></a> ãŒå…¬å¼ã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ãã“ã§è©¦ã—ã¦ã¿ã‚‹ã¨ã„ã„ã€‚</p>\n</div>\n<div class=\"admonitionblock note\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-note\" title=\"Note\" data-md-icon=\"info\"></i>\n</td>\n<td class=\"content\">\n<div class=\"title\">YAMLãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</div>\n<em>YAML</em> ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯1ãƒ•ã‚¡ã‚¤ãƒ«ã«è¤‡æ•°ãµãã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼ˆ<code>---</code> åŒºåˆ‡ã‚Šï¼‰ã€‚<br>\nã‚ˆã£ã¦ <em>ãƒ•ã‚¡ã‚¤ãƒ«</em> ã¨ <em>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</em> ã®å‘¼ã³æ–¹ã®é•ã„ã«æ°—ã‚’ã¤ã‘ã‚‹ã€‚\n</td>\n</tr>\n</table>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_data-values\">å¤–éƒ¨ã®å¤‰æ•°ï¼ˆ <a href=\"https://carvel.dev/ytt/docs/latest/ytt-data-values/\" target=\"_blank\" rel=\"noopener\"><em>Data Values</em></a> ï¼‰</h3>\n<div class=\"paragraph\">\n<p>åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨˜è¿°ã—ãŸ <em>YAML</em> ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® <code><em>key:value</em></code> ã¯ã€ <a href=\"https://carvel.dev/ytt/docs/latest/ytt-data-values/\" target=\"_blank\" rel=\"noopener\"><em>Data Values</em></a> ã¨ã—ã¦å®£è¨€ã™ã‚Œã°å¤‰æ•°ã¨ã—ã¦å‚ç…§ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚</p>\n</div>\n<div class=\"paragraph\">\n<p><em>YAML</em> ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã« <code>@data/values</code> ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚Œã° <em>Data Values</em> ã¨ã—ã¦å®£è¨€ã—ãŸã“ã¨ã«ãªã‚‹ã€‚<br>\nã¾ãŸã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ <em>Data Values</em> ã‚’å‚ç…§ã™ã‚‹ã«ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«å…ˆé ­ã« <code>@ load(\"@ytt:data\", \"data\")</code> ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã€‚</p>\n</div>\n<div class=\"exampleblock\">\n<div class=\"title\">Example 2. Data Values ã‚’ä½¿ã†ä¾‹</div>\n<div class=\"content\">\n<div \n    class=\"listingblock\">\n<div class=\"title\">var_1.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">#@data/values   <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n---\nhoge: hoge value    <i class=\"conum\" data-value=\"2\"></i><b>(2)</b>\nfoo:\n  fuga: fugafuga\nbar: old value</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td><em>Data Values</em> ãƒ•ã‚¡ã‚¤ãƒ«ã®å®£è¨€ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"2\"></i><b>2</b></td>\n<td>ãã‚Œãã‚Œã®å€¤ã‚’è¨˜è¿°ã€‚</td>\n</tr>\n</table>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">var_2.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">#@data/values\n---\nbar: new value      <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n\n#@overlay/remove    <i class=\"conum\" data-value=\"2\"></i><b>(2)</b>\nhoge:\n\n#@overlay/match missing_ok=True     <i class=\"conum\" data-value=\"3\"></i><b>(3)</b>\nbaz: add new key</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td>æ—¢å­˜ã®å€¤ã‚’ä¸Šæ›¸ãã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"2\"></i><b>2</b></td>\n<td>æ—¢å­˜ã® <em>key</em> ã‚’å‰Šé™¤ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"3\"></i><b>3</b></td>\n<td>æ–°ã—ã„ <em>key</em> ã¨ãã®å€¤ã‚’è¿½åŠ ã€‚</td>\n</tr>\n</table>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">template.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">#@ load(\"@ytt:data\", \"data\")    <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n---\nvar1: #@ data.values.bar        <i class=\"conum\" data-value=\"2\"></i><b>(2)</b>\nvar2: #@ data.values.foo.fuga\nvar3: #@ data.values.foo\nvar4: #@ data.values.baz</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td><em>Data Values</em> ã‚’èª­ã¿è¾¼ã¿ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"2\"></i><b>2</b></td>\n<td>ç™»éŒ²ã—ãŸ <em>Data Values</em> ã®å„å€¤ã‚’å‚ç…§ã€‚</td>\n</tr>\n</table>\n</div>\n<div \n    class=\"listingblock no-line-numbers command-line\">\n<div class=\"title\">å®Ÿè¡Œçµæœ</div>\n  <div class=\"content\">\n  <pre class=\"highlight command-line\" data-output=\"5-10\"\n    ><code class=\"language-bash\"\n    data-lang=\"bash\">ytt template \\   <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n  --file template.yml \\\n  --file var_1.yml \\\n  --file var_2.yml\n\nvar1: new value\nvar2: fugafuga\nvar3:\n  fuga: fugafuga\nvar4: add new key</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ä½¿ç”¨ã™ã‚‹ <em>Data Values</em> ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ä¸€ç·’ã«æŒ‡å®šã™ã‚‹ã€‚</td>\n</tr>\n</table>\n</div>\n</div>\n</div>\n<div class=\"admonitionblock caution\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-caution\" title=\"Caution\" data-md-icon=\"local_fire_department\"></i>\n</td>\n<td class=\"content\">\n<div class=\"title\">Data Values ã®ã‚­ãƒ¼ã«ã¤ã„ã¦</div>\nã‚­ãƒ¼ã¯ <em>snake_case</em> å½¢å¼ãŒæ¨å¥¨ï¼ˆã¤ã¾ã‚Š <strong>ãƒã‚¤ãƒ•ãƒ³ï¼ˆ<code>-</code>ï¼‰ã¯éæ¨å¥¨</strong>ï¼‰ã€‚<br>\nã“ã‚Œã¯å‚ç…§æ™‚ã« <code>.</code> ã‚’ä½¿ã£ãŸå‚ç…§ãŒã§ããªããªã‚‹ãŸã‚ã€‚\n</td>\n</tr>\n</table>\n</div>\n<div class=\"admonitionblock note\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-note\" title=\"Note\" data-md-icon=\"info\"></i>\n</td>\n<td class=\"content\">\n<div class=\"title\">ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¹ãƒšãƒ¼ã‚¹ã«ã¤ã„ã¦</div>\n<div class=\"paragraph\">\n<p><code>#@</code> å¾Œã«ã‚¹ãƒšãƒ¼ã‚¹ãŒå¿…è¦ãªã‚‚ã®ã¨ä¸è¦ãªã‚‚ã®ãŒã‚ã‚‹ã€‚<br>\nã“ã‚Œã«ã¤ã„ã¦ã¯ã€</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><em>YAML</em> è¦ç´ ã«åƒãã‹ã‘ã‚‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ<code>@data/values</code> ã‚„ <code>@overlay/match</code>ï¼‰ã«ã¯<strong>ä¸è¦</strong></p>\n</li>\n<li>\n<p>å®Ÿéš›ã¯ <code>ytt</code> ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã§ã‚ã‚‹ã‚‚ã®ï¼ˆ<code>@ load</code> ã‚„ <code>@ if</code>ï¼‰ã«ã¯<strong>å¿…è¦</strong></p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>ã¨ã„ã†ã“ã¨ã‚‰ã—ã„ï¼ˆ<a href=\"https://carvel.dev/ytt/docs/latest/faq/#when-should-i-include-a-space-in-my-ytt-comment-does-it-matter-is-it-load-or&#8212;&#8203;load-overlaymatch-or&#8212;&#8203;overlaymatch\" target=\"_blank\" rel=\"noopener\">è©³ç´°</a>ï¼‰ã€‚</p>\n</div>\n</td>\n</tr>\n</table>\n</div>\n<div class=\"sect3\">\n<h4 id=\"_json_ãƒ‡ãƒ¼ã‚¿ã‚’åˆ©ç”¨ã™ã‚‹\"><a href=\"https://carvel.dev/ytt/docs/latest/faq/#how-do-i-load-json-for-use-as-a-data-value\" target=\"_blank\" rel=\"noopener\"><em>JSON</em> ãƒ‡ãƒ¼ã‚¿ã‚’åˆ©ç”¨ã™ã‚‹</a></h4>\n<div class=\"paragraph\">\n<p>ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã® <code>--data-value-file</code> ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’æ–‡å­—åˆ—ã¨ã—ã¦èª­ã¿è¾¼ã¿ã€ãã‚Œã‚’ <em>JSON</em> ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›ã™ã‚Œã°ã„ã„ã€‚</p>\n</div>\n<div class=\"exampleblock\">\n<div class=\"title\">Example 3. JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€</div>\n<div class=\"content\">\n<div \n    class=\"listingblock\">\n<div class=\"title\">conf.json</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-json\"\n    data-lang=\"json\">{\n  \"version\": \"1.2.3\",\n  \"levels\": [\"info\", \"warn\", \"error\"]\n}</code></pre>\n  </div>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">template.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">#@ load(\"@ytt:data\", \"data\")\n#@ load(\"@ytt:json\", \"json\")      <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n#@ load(\"@ytt:struct\", \"struct\")  <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n\n---\n#@ config = struct.encode(\\   <i class=\"conum\" data-value=\"2\"></i><b>(2)</b>\n#@    json.decode(data.values.config)\\  <i class=\"conum\" data-value=\"3\"></i><b>(3)</b>\n#@  )\njson:\n  version: #@ config.version\n  levels: #@ config.levels</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td><em>JSON</em> ã‚„ <code>struct</code> å‹ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’èª­ã¿è¾¼ã¿ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"2\"></i><b>2</b></td>\n<td>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ <code>.</code> ã‹ã‚‰å‚ç…§ã§ãã‚‹ã‚ˆã†ã« <code>dict</code> å‹ã®å€¤ã‚’ <code>struct</code> å‹ã«å¤‰æ›ã€‚<br>\nï¼ˆæœ«å°¾ã® <code>\\</code> ã¯ <em>Starlark</em> è¨€èªã«ãŠã‘ã‚‹æ”¹è¡Œã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ï¼‰</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"3\"></i><b>3</b></td>\n<td><code>--data-value-file</code> ã§èª­ã¿è¾¼ã‚“ã  <em>JSON</em> ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ï¼ˆæ–‡å­—åˆ—ï¼‰ã‚’ <code>dict</code> å‹ã®å€¤ã¨ã—ã¦å¤‰æ›ã€‚</td>\n</tr>\n</table>\n</div>\n<div \n    class=\"listingblock no-line-numbers command-line\">\n<div class=\"title\">å®Ÿè¡Œçµæœ</div>\n  <div class=\"content\">\n  <pre class=\"highlight command-line\" data-output=\"4-10\"\n    ><code class=\"language-bash\"\n    data-lang=\"bash\">ytt template \\\n  --file template.yml \\\n  --data-value-file config=conf.json  <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n\njson:\n  version: 1.2.3\n  levels:\n  - info\n  - warn\n  - error</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td><code>&lt;key&gt;=&lt;/path/to/file&gt;</code> ã®æ›¸å¼ã€‚<br>\næŒ‡å®šã—ãŸ <code>key</code> ã®å€¤ã«ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’æ–‡å­—åˆ—ã¨ã—ã¦èª­ã¿è¾¼ã‚€ã€‚</td>\n</tr>\n</table>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_data_values_ã®å‹å®šç¾©data_values_schema\"><em>Data Values</em> ã®å‹å®šç¾©ï¼ˆ<a href=\"https://carvel.dev/ytt/docs/latest/lang-ref-ytt-schema/\" target=\"_blank\" rel=\"noopener\"><em>Data Values Schema</em></a>ï¼‰</h3>\n<div class=\"paragraph\">\n<p><a href=\"https://github.com/vmware-tanzu/carvel-ytt/releases/tag/v0.35.0\" target=\"_blank\" rel=\"noopener\">version 0.35.0 ã§æ­£å¼å®Ÿè£…</a>ã•ã‚ŒãŸæ©Ÿèƒ½ã§ã€<em>Data Values</em> ã®å‹å®šç¾©ã‚’å®£è¨€ã™ã‚‹ã€‚<br>\n<em>YAML</em> ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã« <code>@data/values-schema</code> ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã¦å®£è¨€ã™ã‚‹ã€‚</p>\n</div>\n<div class=\"paragraph\">\n<p>ã“ã® <em>Data Values Schema</em> ã§å®šç¾©ã—ãŸå€¤ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ã—ã¦æ©Ÿèƒ½ã—ã€ <em>Data Values</em> ã«å®šç¾©ã•ã‚ŒãŸå€¤ã§ä¸Šæ›¸ããƒãƒ¼ã‚¸ã•ã‚Œã‚‹ã€‚<br>\nã‚ˆã£ã¦ã€</p>\n</div>\n<div class=\"olist arabic\">\n<ol class=\"arabic\">\n<li>\n<p><em>Data Values Schema</em> ã«ã‚ˆã‚‹æ±ç”¨çš„ãªå‹å®šç¾©ã‚’è¡Œã„ã€</p>\n</li>\n<li>\n<p>å®Ÿéš›ã«æ‰±ã†å€¤ã‚’ <em>Data Values</em> ã§å®Ÿè£…ã™ã‚‹</p>\n</li>\n</ol>\n</div>\n<div class=\"paragraph\">\n<p>ã¨ã„ã†å½¢ã«ã™ã‚‹ã®ãŒã‚ˆã•ãã†ã€‚</p>\n</div>\n<div class=\"admonitionblock note\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-note\" title=\"Note\" data-md-icon=\"info\"></i>\n</td>\n<td class=\"content\">\n<div class=\"paragraph\">\n<p>ä½¿ã„æ‰€ã¨ã—ã¦ã€</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>è¤‡æ•°äººã«ã‚ˆã‚‹ä½œæ¥­</p>\n</li>\n<li>\n<p>åŒç¨®ã® <em>YAML</em> è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¤‡æ•°ä½œæˆã™ã‚‹ã¨ã</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>ãªã©ã«åˆ©ç”¨ã™ã‚‹ã¨ã‚ˆã•ãã†ã€‚</p>\n</div>\n</td>\n</tr>\n</table>\n</div>\n<div class=\"exampleblock\">\n<div class=\"title\">Example 4. Data Values Schema ã‚’ä½¿ã£ãŸä¾‹</div>\n<div class=\"content\">\n<div \n    class=\"listingblock\">\n<div class=\"title\">config/schema.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">#@data/values-schema  <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n---\ncache:\n  name: Caching\n  id: cache\n  uses: actions/cache@v2\n  with:\n    path: /tmp/cache\n    key: ${{ runner.os }}-caching-${{ hashFiles('.lock') }}\n    restore-keys: \"\"</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td><em>Data Values Schema</em> ã¨ã—ã¦ã®å®£è¨€ã€‚<br>\nã“ã“ã§å®šç¾©ã—ãŸå€¤ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã«ãªã‚‹ã€‚</td>\n</tr>\n</table>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">config/data.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">#@data/values   <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n---\ncache:\n  name: Cache Docker Layer\n  with:\n    key: ${{ runner.os }}-docker-${{ hashFiles('**/Dockerfile') }}\n    restore-keys: |\n      ${{ runner.os }}-docker-</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td><em>Data Values</em> ã§å®šç¾©ã—ãŸå€¤ã¯ä¸€ç·’ã«èª­ã¿è¾¼ã‚“ã  <em>Schema</em> ã®å€¤ã‚’ä¸Šæ›¸ãã™ã‚‹ã€‚<br>\nä¸Šæ›¸ãã—ãŸã„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã ã‘ã‚’è¨˜è¿°ã™ã‚Œã°OKã€‚</td>\n</tr>\n</table>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">config/template.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">#@ load(\"@ytt:data\", \"data\")\n---\nloading: #@ data.values.cache</code></pre>\n  </div>\n</div>\n<div \n    class=\"listingblock no-line-numbers command-line\">\n\n  <div class=\"content\">\n  <pre class=\"highlight command-line\" data-user=\"user\"\n    data-host=\"local\"\n    data-output=\"2-30\"\n    ><code class=\"language-bash\"\n    data-lang=\"bash\">ytt template --file=config\n\nloading:\n  name: Cache Docker Layer\n  id: cache\n  uses: actions/cache@v2\n  with:\n    path: /tmp/cache\n    key: ${{ runner.os }}-docker-${{ hashFiles('**/Dockerfile') }}\n    restore-keys: |\n      ${{ runner.os }}-docker-</code></pre>\n  </div>\n</div>\n<div class=\"admonitionblock tip\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-tip\" title=\"Tip\" data-md-icon=\"emoji_objects\"></i>\n</td>\n<td class=\"content\">\nè¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†å‰²ã—ã¦ <em>Schema</em> ã‚’å®šç¾©ã™ã‚‹å ´åˆã¯ã€<em>Overlays</em> ã®æ©Ÿèƒ½ï¼ˆ<code>#@overlay/match missing_ok=True</code>ï¼‰ã‚’åˆ©ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§æ³¨æ„ã€‚\n</td>\n</tr>\n</table>\n</div>\n</div>\n</div>\n<div class=\"sect3\">\n<h4 id=\"_schema_ã®æ‹¡å¼µ\"><em>Schema</em> ã®æ‹¡å¼µ</h4>\n<div class=\"paragraph\">\n<p><em>Schema</em> ã§å®šç¾©ã—ãŸå‹ã«æ–°ã—ããƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ãŸã„å ´åˆã¯ã€</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>ãã® <em>Schema</em> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã™ã‚‹</p>\n</li>\n<li>\n<p>åˆ¥ã® <em>Schema</em> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ <em>Overlays</em> ã«ã‚ˆã‚‹ä¸Šæ›¸ãã‚’ã™ã‚‹</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>ã®ã©ã¡ã‚‰ã‹ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚‹ã€‚<br>\nï¼ˆæ¨ªç€ã—ã¦ <em>Data Values</em> ã§è¿½åŠ ã—ã‚ˆã†ã¨ã™ã‚‹ã¨æ€’ã‚‰ã‚Œã‚‹ã€‚ï¼‰</p>\n</div>\n<div class=\"exampleblock\">\n<div class=\"title\">Example 5. Overlays ã‚’åˆ©ç”¨ã—ã¦ Schema ã‚’æ‹¡å¼µ</div>\n<div class=\"content\">\n<div \n    class=\"listingblock\">\n<div class=\"title\">config/schema.patch.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">#@data/values-schema\n---\ncache:\n  #@overlay/match missing_ok=True   <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n  env:\n    HOGE: \"\"</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td><em>Overlays</em> ã‚’åˆ©ç”¨ã—ã¦æ–°ã—ã„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã™ã‚‹ã€‚</td>\n</tr>\n</table>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">config/data.yml ï¼ˆæ›´æ–°ï¼‰</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">#@data/values\n---\ncache:\n  name: Cache add env\n  env:\n    HOGE: hogehoge</code></pre>\n  </div>\n</div>\n<div \n    class=\"listingblock no-line-numbers command-line\">\n\n  <div class=\"content\">\n  <pre class=\"highlight command-line\" data-user=\"user\"\n    data-host=\"local\"\n    data-output=\"2-30\"\n    ><code class=\"language-bash\"\n    data-lang=\"bash\">ytt template --file=config\n\nloading:\n  name: Cache add env\n  id: cache\n  uses: actions/cache@v2\n  with:\n    path: /tmp/cache\n    key: ${{ runner.os }}-caching-${{ hashFiles('.lock') }}\n    restore-keys: \"\"\n  env:\n    HOGE: hogehoge</code></pre>\n  </div>\n</div>\n</div>\n</div>\n<div class=\"admonitionblock tip\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-tip\" title=\"Tip\" data-md-icon=\"emoji_objects\"></i>\n</td>\n<td class=\"content\">\nã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ã‚‚ã¤å‹ã‚’å®šç¾©ã—ãŸã„å ´åˆã¯ <a href=\"https://carvel.dev/ytt/docs/latest/how-to-write-schema/#declaring-pass-through-data-values\" target=\"_blank\" rel=\"noopener\"><code>#@schema/type any=True</code> ã‚’åˆ©ç”¨ã™ã‚‹æ–¹æ³•</a>ãŒã‚ã‚‹ã€‚\n</td>\n</tr>\n</table>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_overlays\">ãƒ‘ãƒƒãƒã®é©ç”¨ï¼ˆ <a href=\"https://carvel.dev/ytt/docs/latest/ytt-overlays/\" target=\"_blank\" rel=\"noopener\"><em>Overlays</em></a> ï¼‰</h3>\n<div class=\"paragraph\">\n<p>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚„ <em>Data Values</em> ã®è¨­å®šã®ä¸€éƒ¨ã ã‘ã‚’å¤‰æ›´ã—ãŸã‚Šã€å…±é€šã®è¨­å®šã‚’é©ç”¨ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚<br>\n<em>Overlays</em> ã¨ã—ã¦å®£è¨€ã™ã‚‹ã«ã¯ã€<em>YAML</em> ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã« <code>@overlay/match</code> ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã€‚<br>\nã¾ãŸ <em>Overlays</em> ã®é–¢æ•°ãªã©ã‚’ä½¿ã†ã«ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã§ <code>#@ load(\"@ytt:overlay\", \"overlay\")</code> ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨˜è¿°ã—ã¦ãŠãã€‚</p>\n</div>\n<div class=\"paragraph\">\n<p><em>Overlays</em> ã¯ <em>YAML</em> ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒæç”»ã•ã‚ŒãŸã‚ã¨ã«é©ç”¨ã•ã‚Œã‚‹ã€‚</p>\n</div>\n<div class=\"paragraph\">\n<p>ä»–ã€<em>Overlays</em> ã«ã¤ã„ã¦ã®è©³ç´°ã¯ã“ã¡ã‚‰ã®<a href=\"https://carvel.dev/ytt/docs/latest/lang-ref-ytt-overlay/\" target=\"_blank\" rel=\"noopener\">å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã‚’å‚ç…§ã€‚</p>\n</div>\n<div class=\"exampleblock\">\n<div class=\"title\">Example 6. Overlaysã‚’ä½¿ã£ãŸãƒ‘ãƒƒãƒé©ç”¨ä¾‹</div>\n<div class=\"content\">\n<div \n    class=\"listingblock\">\n<div class=\"title\">config.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">name: overlay sample\nversion: 1.2.3\nmetadata:\n  - name: example-ingress1\n    tag:\n      - \"hoge\"\n    annotations:\n      message: removed this message\n    overrides:\n      - hoge\n      - foo\n  - name: example2\n    tag:\n      - foo\n    annotations:\n      message: left message\n    overrides:\n      - yoho</code></pre>\n  </div>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">patch.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">#@ load(\"@ytt:overlay\", \"overlay\")  <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n\n#@overlay/match by=overlay.all  <i class=\"conum\" data-value=\"2\"></i><b>(2)</b>\n---\nmetadata:\n  #@overlay/match by=overlay.subset({\"name\": \"example-ingress1\"})  <i class=\"conum\" data-value=\"3\"></i><b>(3)</b>\n  - tag:\n      - \"fuga\"\n    annotations:\n      #@overlay/remove    <i class=\"conum\" data-value=\"4\"></i><b>(4)</b>\n      message:\n    #@overlay/match missing_ok=True   <i class=\"conum\" data-value=\"5\"></i><b>(5)</b>\n    config:\n      var1: hoge\n      var2: fuga\n\n#@overlay/match by=overlay.subset({\"metadata\": []})  <i class=\"conum\" data-value=\"6\"></i><b>(6)</b>\n---\nmetadata:\n  #@overlay/match by=overlay.all, expects=\"1+\"  <i class=\"conum\" data-value=\"7\"></i><b>(7)</b>\n  - overrides:\n      - add value</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td><em>Overlays</em> ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’èª­ã¿è¾¼ã¿ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"2\"></i><b>2</b></td>\n<td><em>Overlays</em> ç”¨ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã‚ã‚‹ã“ã¨ã‚’å®£è¨€ã€‚<br>\nã‹ã¤ <em>Overlays</em> ã‚’é©ç”¨ã™ã‚‹ <em>YAML</em> è¦ç´ ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒæ–¹æ³•ã‚’æŒ‡å®šï¼ˆ<code>by</code>ï¼‰ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"3\"></i><b>3</b></td>\n<td>æŒ‡å®šã—ãŸ <em>YAML</em> è¦ç´ ã¨ä¸€è‡´ã™ã‚‹è¦ç´ ã‚’ä¸Šæ›¸ãå¯¾è±¡ã¨ã™ã‚‹ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"4\"></i><b>4</b></td>\n<td>ä¸‹è¨˜ã®ã‚­ãƒ¼ã‚’å‰Šé™¤ã™ã‚‹ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"5\"></i><b>5</b></td>\n<td>æ—¢å­˜ã®ã‚­ãƒ¼ãŒå­˜åœ¨ã—ãªã„ã¨ãã¯æ–°ã—ãè¿½åŠ ã—ãŸã„å ´åˆã€<code>missing_ok=True</code> ã‚’æŒ‡å®šã™ã‚‹ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"6\"></i><b>6</b></td>\n<td>è©³ç´°ãªå€¤ã‚’æŒ‡å®šã—ãŸããªã„ã¨ãã¯ã€ç©ºã®å€¤ï¼ˆ<code>[]</code>, <code>{}</code>ï¼‰ã‚’æŒ‡å®šã™ã‚Œã°ã„ã„ã€‚<br>\nãŒã€ã“ã†ã„ã†å ´åˆã¯ <code>overlay.all()</code> ã‚’ä½¿ã£ãŸã»ã†ãŒã„ã„ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"7\"></i><b>7</b></td>\n<td><code>expects</code> ã§ãƒãƒƒãƒã™ã¹ãå›æ•°ã‚’æŒ‡å®šã€‚ã“ã®å›æ•°ã«è©²å½“ã—ãªã‘ã‚Œã°ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã€‚</td>\n</tr>\n</table>\n</div>\n<div \n    class=\"listingblock no-line-numbers command-line\">\n<div class=\"title\">å®Ÿè¡Œçµæœ</div>\n  <div class=\"content\">\n  <pre class=\"highlight command-line\" data-output=\"2-25\"\n    ><code class=\"language-bash\"\n    data-lang=\"bash\">ytt template --file config.yml --file patch.yml\n\nname: overlay sample\nversion: 1.2.3\nmetadata:\n- name: example-ingress1\n  tag:\n  - hoge\n  - fuga\n  annotations: {}\n  overrides:\n  - hoge\n  - foo\n  - add value\n  config:\n    var1: hoge\n    var2: fuga\n- name: example2\n  tag:\n  - foo\n  annotations:\n    message: left message\n  overrides:\n  - yoho\n  - add value</code></pre>\n  </div>\n</div>\n</div>\n</div>\n<div class=\"admonitionblock tip\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-tip\" title=\"Tip\" data-md-icon=\"emoji_objects\"></i>\n</td>\n<td class=\"content\">\n<div class=\"title\">é…åˆ—ã®å€¤ã®ç½®æ›ã«ã¤ã„ã¦</div>\né…åˆ—ã®å€¤ã‚’è¿½åŠ ã—ãŸã‚Šç©ºã«ã—ãŸã‚Šã™ã‚‹ã“ã¨ã¯ç°¡å˜ã«ã§ãã‚‹ãŒã€ç½®æ›ã™ã‚‹ã“ã¨ã¯é›£ã—ã„ã€‚<br>\nã‚ã‚‹ç¨‹åº¦ã‚ãã‚‰ã‚ãŸã»ã†ãŒã‚ˆã•ãã†ã€‚\n</td>\n</tr>\n</table>\n</div>\n<table class=\"tableblock frame-all grid-all fit-content\">\n<caption class=\"title\">Table 1. <a href=\"https://carvel.dev/ytt/docs/latest/lang-ref-ytt-overlay/#overlay-annotations\" target=\"_blank\" rel=\"noopener\">Overlays ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³</a>ï¼ˆä¸€éƒ¨ï¼‰</caption>\n<colgroup>\n<col>\n<col>\n</colgroup>\n<thead>\n<tr>\n<th class=\"tableblock halign-left valign-top\">ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³</th>\n<th class=\"tableblock halign-left valign-top\">èª¬æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\"><code>@overlay/match</code></p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">ã©ã®è¦ç´ ã‚’ä¿®æ­£ãƒ»ä¸Šæ›¸ãã™ã‚‹ã‹ã‚’æŒ‡å®šã™ã‚‹ã€‚</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\"><code>@overlay/match-child-defaults</code></p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\"><code>expects</code> ã‚„ <code>missing_ok</code> ã®è¨­å®šå€¤ã‚’å­è¦ç´ ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¨ã—ã¦ã¤ã‘ã‚‹ã€‚</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\"><code>@overlay/remove</code></p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">ä¸€è‡´ã—ãŸè¦ç´ ã‚’å‰Šé™¤ã™ã‚‹ã€‚</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\"><code>@overlay/replace</code></p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">ä¸€è‡´ã—ãŸè¦ç´ ã®å€¤ã‚’ç½®æ›ã™ã‚‹ã€‚</p></td>\n</tr>\n</tbody>\n</table>\n<table class=\"tableblock frame-all grid-all fit-content\">\n<caption class=\"title\">Table 2. <a href=\"https://carvel.dev/ytt/docs/latest/lang-ref-ytt-overlay/#overlaymatch\" target=\"_blank\" rel=\"noopener\">Matcheré–¢æ•°</a>ï¼ˆä¸€éƒ¨ï¼‰</caption>\n<colgroup>\n<col>\n<col>\n</colgroup>\n<thead>\n<tr>\n<th class=\"tableblock halign-left valign-top\">é–¢æ•°</th>\n<th class=\"tableblock halign-left valign-top\">èª¬æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\"><code>overlay.all()</code></p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">è¨˜è¿°ã—ãŸè¦ç´ ã‚’ã™ã¹ã¦å«ã‚€è¦ç´ ã‚’æ¤œç´¢ã™ã‚‹ã€‚</p></td>\n</tr>\n<tr>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\"><code>overlay.subset(<em>TARGET</em>)</code></p></td>\n<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\"><code><em>TARGET</em></code> ã§æŒ‡å®šã—ãŸè¦ç´ ã®æ§‹é€ ã¨ä¸€è‡´ã™ã‚‹è¦ç´ ã‚’æ¤œç´¢ã™ã‚‹ã€‚</p></td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonitionblock note\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-note\" title=\"Note\" data-md-icon=\"info\"></i>\n</td>\n<td class=\"content\">\n<code>overlay.map_key(&#8230;&#8203;)</code> ã¯ç†è§£ãŒä¸ååˆ†ãªã›ã„ã§æœŸå¾…é€šã‚Šã®å‹•ä½œã‚’ã—ã¦ãã‚Œãªã„ã“ã¨ãŒå¤šã‹ã£ãŸã€‚<br>\nãªã®ã§å°‘ã—å†—é•·ã§ã‚‚ <code>overlay.subset(&#8230;&#8203;)</code> ã‚’ä½¿ã£ãŸã»ã†ãŒã‚¤ãƒ©ã‚¤ãƒ©ã›ãšã«ã™ã‚“ã ã€‚\n</td>\n</tr>\n</table>\n</div>\n<div class=\"sect3\">\n<h4 id=\"_å…±é€šã®è¨­å®šé …ç›®ã‚’å®šç¾©ã™ã‚‹\">å…±é€šã®è¨­å®šé …ç›®ã‚’å®šç¾©ã™ã‚‹</h4>\n<div class=\"paragraph\">\n<p><code>runs-on</code> ã¨ã‹ã®å…±é€šè¨­å®šã¯1å›ã®è¨˜è¿°ã§æ¸ˆã¾ã›ãŸã„ã€‚<br>\nãã†ã„ã†å ´åˆã«ã‚‚ <em>Overlays</em> ãŒæœ‰åŠ¹ã€‚</p>\n</div>\n<div class=\"exampleblock\">\n<div class=\"title\">Example 7. Overlays ã§å…±é€šè¨­å®šã‚’å®šç¾©</div>\n<div class=\"content\">\n<div class=\"paragraph\">\n<p><code>runs-on</code> ã®å€¤ã¨ã€ã‚¹ãƒ†ãƒƒãƒ—ã®æœ€åˆã«è¡Œã† <code>uses: actions/checkout@v2</code> ã‚’å…±é€šåŒ–ã€‚</p>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">commons-patch.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">#@ load(\"@ytt:overlay\", \"overlay\")\n\n#@overlay/match by=overlay.all, expects=\"1+\"\n---\njobs:\n  #@overlay/match by=overlay.all, expects=\"1+\"\n  _:  <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n    #@overlay/match missing_ok=True\n    runs-on: ubuntu-20.04\n\n    steps:\n      #@overlay/match by=overlay.index(0)   <i class=\"conum\" data-value=\"2\"></i><b>(2)</b>\n      #@overlay/insert before=True  <i class=\"conum\" data-value=\"3\"></i><b>(3)</b>\n      - name: Checkout code\n        uses: actions/checkout@v2</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td>ä»»æ„ã®ã‚­ãƒ¼åã¨ã—ãŸã„å ´åˆã€<code>_</code> ã¨æŒ‡å®šã™ã‚‹ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"2\"></i><b>2</b></td>\n<td>æœ€åˆã®é…åˆ—è¦ç´ ã‚’æ¤œç´¢ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"3\"></i><b>3</b></td>\n<td>ä¸Šè¨˜ã§æ¤œç´¢ã•ã‚ŒãŸè¦ç´ ã®å‰ã«ã€ã“ã® <em>YAML</em> è¦ç´ ã‚’æŒ¿å…¥ã•ã›ã‚‹ã€‚</td>\n</tr>\n</table>\n</div>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>ã‚‚ã—ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯åˆ¥ã®è¨­å®šã«ã—ãŸã„å ´åˆã€ãã‚Œç”¨ã® <em>Overlays</em> ã‚’è¨­å®šã—ã¦ä¸Šæ›¸ãã•ã›ã‚Œã°ã„ã„ã€‚</p>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_template_ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«\"><a href=\"https://carvel.dev/ytt/docs/latest/lang-ref-ytt-template/\" target=\"_blank\" rel=\"noopener\"><em>Template</em> ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«</a></h3>\n<div class=\"paragraph\">\n<p>æ—¢å­˜ã® <em>YAML</em> è¦ç´ ã‚’ã¾ã‚‹ã”ã¨ç½®æ›ã™ã‚‹ <code>template.replace()</code> é–¢æ•°ãŒåˆ©ç”¨ã§ãã‚‹ã€‚</p>\n</div>\n<div class=\"paragraph\">\n<p>ä¾‹ã¨ã—ã¦ã€<em>GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼</em> ã«ãŠã„ã¦ã¯ <code>steps</code> ã‚­ãƒ¼ãŒé…åˆ—ã‚’æ ¼ç´ã™ã‚‹ã®ã§ã€ã“ã“ã§ã‚ˆãä½¿ã„ãã†ã€‚</p>\n</div>\n<div class=\"exampleblock\">\n<div class=\"title\">Example 8. GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ãŠã‘ã‚‹åˆ©ç”¨ä¾‹</div>\n<div class=\"content\">\n<div \n    class=\"listingblock\">\n<div class=\"title\">vars.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">#@data/values\n---\nsetup:\n  - name: Checkout code\n    uses: actions/checkout@v2\n  - name: Set up QEMU\n    uses: docker/setup-qemu-action@v1\n  - name: Set up Docker Buildx\n    uses: docker/setup-buildx-action@v1</code></pre>\n  </div>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">workflow-template.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">#@ load(\"@ytt:data\", \"data\")\n#@ load(\"@ytt:template\", \"template\")  <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n---\n...\njobs:\n  docker:\n    name: docker / build\n    runs-on: ubuntu-20.04\n    steps:\n      -  #@ template.replace(data.values.setup)   <i class=\"conum\" data-value=\"2\"></i><b>(2)</b>\n      - ...</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td><em>Template</em> ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’èª­ã¿è¾¼ã¿ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"2\"></i><b>2</b></td>\n<td>ã“ã“ã®é…åˆ—è¦ç´ ã‚’ <code>setup</code> ã® <em>YAML</em> è¦ç´ ã§ç½®æ›ã—ã¦ã„ã‚‹ã€‚<br>\nã“ã‚Œã«ã‚ˆã£ã¦äºŒæ¬¡å…ƒé…åˆ—ã«ãªã‚‰ãšã«æ¸ˆã‚€ã€‚</td>\n</tr>\n</table>\n</div>\n<div \n    class=\"listingblock no-line-numbers command-line\">\n<div class=\"title\">å®Ÿè¡Œçµæœ</div>\n  <div class=\"content\">\n  <pre class=\"highlight command-line\" data-output=\"2-16\"\n    ><code class=\"language-bash\"\n    data-lang=\"bash\">ytt template --file workflow-template.yml --file vars.yml\n\n...\njobs:\n  docker:\n    name: docker / build\n    runs-on: ubuntu-20.04\n    steps:\n    - name: Checkout code\n      uses: actions/checkout@v2\n    - name: Set up QEMU\n      uses: docker/setup-qemu-action@v1\n    - name: Set up Docker Buildx\n      uses: docker/setup-buildx-action@v1\n    - ...</code></pre>\n  </div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_æ–‡å­—åˆ—ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆtext_templating\">æ–‡å­—åˆ—ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ<a href=\"https://carvel.dev/ytt/docs/latest/ytt-text-templating/\" target=\"_blank\" rel=\"noopener\"><em>Text Templating</em></a> ï¼‰</h3>\n<div class=\"paragraph\">\n<p><code>#@yaml/text-templated-strings</code> ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã€‚</p>\n</div>\n<div class=\"paragraph\">\n<p>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ–‡å­—åˆ—ï¼ˆæ–‡å­—åˆ—è£œé–“ï¼‰ã‚’ä½¿ã„ãŸã„ã¨ãã«ä½¿ã†ã€‚</p>\n</div>\n<div class=\"exampleblock\">\n<div class=\"title\">Example 9. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ–‡å­—åˆ—ï¼ˆæ–‡å­—åˆ—è£œé–“ï¼‰</div>\n<div class=\"content\">\n<div class=\"paragraph\">\n<p><code>@yaml/text-templated-strings</code> ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ãŸä¸Šã§ <code>(@</code> ã¨ <code>@)</code> ã§å›²ã‚“ã éƒ¨åˆ†ãŒå¤‰æ•°å±•é–‹ã•ã‚Œã‚‹ã€‚</p>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">config.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">#@ val1 = \"value1\"  <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n#@ val2 = \"value2\"\n\n#@yaml/text-templated-strings   <i class=\"conum\" data-value=\"2\"></i><b>(2)</b>\n---\nnormal: \"val1 is (@= val1 @) and val2 is (@= val2 @)\"   <i class=\"conum\" data-value=\"3\"></i><b>(3)</b>\nno_output: \"val1 is (@ val1 @) and val2 is (@ val2 @)\"  <i class=\"conum\" data-value=\"4\"></i><b>(4)</b>\ntrim_spaces: \"val1 is (@-= val1 -@) and val2 is (@-= val2 @)\"   <i class=\"conum\" data-value=\"5\"></i><b>(5)</b>\n\nkey_(@= val1 @): used in key    <i class=\"conum\" data-value=\"6\"></i><b>(6)</b></code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td>å¤‰æ•°ã‚’å®šç¾©ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"2\"></i><b>2</b></td>\n<td>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ–‡å­—åˆ—ã‚’ä½¿ã†ãŸã‚ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"3\"></i><b>3</b></td>\n<td>é€šå¸¸ä½¿ç”¨ã€‚å¤‰æ•°å±•é–‹ã•ã‚ŒãŸå€¤ã¯<strong>æ–‡å­—åˆ—</strong>ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"4\"></i><b>4</b></td>\n<td><code>=</code> ã‚’ã¤ã‘ãªã„å ´åˆã€å¤‰æ•°å±•é–‹ã•ã‚Œãªã„ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"5\"></i><b>5</b></td>\n<td><code>-</code> ã‚’ã¤ã‘ãŸå´ã®ã‚¹ãƒšãƒ¼ã‚¹ãŒé™¤å»ã•ã‚Œã‚‹ã€‚</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"6\"></i><b>6</b></td>\n<td>ã‚­ãƒ¼ã«ã‚‚å¤‰æ•°å±•é–‹ãŒä½¿ãˆã‚‹ã€‚</td>\n</tr>\n</table>\n</div>\n<div \n    class=\"listingblock no-line-numbers command-line\">\n<div class=\"title\">å®Ÿè¡Œçµæœ</div>\n  <div class=\"content\">\n  <pre class=\"highlight command-line\" data-output=\"2-10\"\n    ><code class=\"language-bash\"\n    data-lang=\"bash\">ytt template --file config.yml\nnormal: val1 is value1 and val2 is value2\nno_output: 'val1 is  and val2 is '\ntrim_spaces: val1 isvalue1and val2 isvalue2\nkey_value1: used in key</code></pre>\n  </div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_ã‚³ãƒ¡ãƒ³ãƒˆ\">ã‚³ãƒ¡ãƒ³ãƒˆ</h3>\n<div class=\"paragraph\">\n<p><code>#!</code> ã§å§‹ã‚ã‚‹ã¨ã‚³ãƒ¡ãƒ³ãƒˆã¨ã—ã¦ä½¿ã‚ã‚Œã‚‹ã€‚</p>\n</div>\n<div class=\"exampleblock\">\n<div class=\"title\">Example 10. ã‚³ãƒ¡ãƒ³ãƒˆ</div>\n<div class=\"content\">\n<div \n    class=\"listingblock\">\n<div class=\"title\">comment.yml</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">---\n#! This is  comment\nhoge: sample-for-comment</code></pre>\n  </div>\n</div>\n<div \n    class=\"listingblock no-line-numbers command-line\">\n<div class=\"title\">å®Ÿè¡Œçµæœ</div>\n  <div class=\"content\">\n  <pre class=\"highlight command-line\" data-output=\"2-10\"\n    ><code class=\"language-bash\"\n    data-lang=\"bash\">ytt template --file comment.yml\nhoge: sample-for-comment</code></pre>\n  </div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_ãã®ä»–\">ãã®ä»–</h3>\n<div class=\"paragraph\">\n<p><em>Struct</em> ã¨ã‹ <em>Library</em> ã¨ã‹ ifæ–‡ã¨ã‹é–¢æ•°ã¨ã‹ã€‚</p>\n</div>\n<div class=\"paragraph\">\n<p>è©³ã—ãã¯<a href=\"https://carvel.dev/ytt/docs/latest/\" target=\"_blank\" rel=\"noopener\">å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã‚’å‚è€ƒã€‚</p>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_faq\">ğŸ£FAQ</h2>\n<div class=\"sectionbody\">\n<div class=\"sect2\">\n<h3 id=\"_anchoralias_ã¯ä½¿ãˆã‚‹ã®\">anchor/alias ã¯ä½¿ãˆã‚‹ã®ï¼Ÿ</h3>\n<div class=\"paragraph\">\n<p>æ™®é€šã«ä½¿ãˆã‚‹ã€‚<br>\nãã®ä¸Š <code>ytt</code> ã§å‡ºåŠ›ã•ã‚ŒãŸ <em>YAML</em> ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ <em>alias</em> ãŒå±•é–‹ã•ã‚Œã‚‹ã®ã§ã€anchor/alias ãŒä½¿ãˆãªã„ <em>GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼</em> ã§ã‚‚å®‰å¿ƒã—ã¦åˆ©ç”¨ã§ãã‚‹ã€‚</p>\n</div>\n<div class=\"paragraph\">\n<p>ãŸã ã¾ã‚ã€<code>ytt</code> ã‚’ä½¿ã†ãªã‚‰ <em>anchor/alias</em> ã®ä»£ã‚ã‚Šã«<a href=\"https://carvel.dev/ytt/docs/latest/lang-ref-def/\" target=\"_blank\" rel=\"noopener\">é–¢æ•°</a>ã‚’åˆ©ç”¨ã—ãŸã»ã†ãŒç­‹ã¯ã„ã„ã‹ã‚‚ã€‚</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_datavalues_ã§å®šç¾©ã—ãŸå¤‰æ•°ã‚’åˆ¥ã®_datavalues_ã‹ã‚‰å‚ç…§ã—ãŸã„\"><code>data/values</code> ã§å®šç¾©ã—ãŸå¤‰æ•°ã‚’åˆ¥ã® <code>data/values</code> ã‹ã‚‰å‚ç…§ã—ãŸã„</h3>\n<div class=\"paragraph\">\n<p>ç¾çŠ¶ã§ã¯ <code>data/values</code> ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå…¨ã¦èª­ã¿è¾¼ã¾ã‚Œã‚‹ã¾ã§ã¯å‚ç…§ã§ããªã„ãŸã‚ã€ç„¡ç†ã‚‰ã—ã„ï¼ˆ<a href=\"https://github.com/vmware-tanzu/carvel-ytt/issues/309\" target=\"_blank\" rel=\"noopener\">issues #309</a>ï¼‰ã€‚</p>\n</div>\n<div class=\"paragraph\">\n<p>ãªã®ã§ä»£ã‚ã‚Šã« <em>Overlays</em> ã§ãƒ‘ãƒƒãƒã‚’ã‚ã¦ãŸã‚Šã€<em>Library</em> ã‚’ä½¿ã£ã¦å‚ç…§ã—ãŸã‚Šã—ã¦ã¿ã‚‹ã€‚</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_on_ã‚­ãƒ¼ãŒ_true_ã«å¤‰æ›ã•ã‚Œã¦ã—ã¾ã†\"><code>on</code> ã‚­ãƒ¼ãŒ <code>true</code> ã«å¤‰æ›ã•ã‚Œã¦ã—ã¾ã†</h3>\n<div class=\"paragraph\">\n<p><a href=\"https://yaml.org/type/bool.html\" target=\"_blank\" rel=\"noopener\"><em>YAML Version 1.1</em> ã®ä»•æ§˜</a>ã®ã›ã„ã€‚<br>\nãƒ€ãƒ–ãƒ«ã‚¯ã‚©ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ <code>\"</code> ã§å›²ã¿ã€æ–‡å­—åˆ—ã¨ã—ã¦æ‰±ã‚ã›ã‚‹ã¨ã„ã„ã€‚</p>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">onã‚­ãƒ¼ãŒ true ã«å¤‰æ›ã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">\"on\":\n  push: {}</code></pre>\n  </div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_error_use_of_reserved_keyword_with_is_not_allowed\">Error: use of reserved keyword 'with' is not allowed</h3>\n<div class=\"paragraph\">\n<p>ã‚ã‚‹ <em>GitHub Action</em> ã‚’ <em>Data Value</em> ã«ã—ã¦å‚ç…§ã—ã‚ˆã†ã¨ã—ãŸã¨ãã«ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã€‚</p>\n</div>\n<div class=\"dlist\">\n<dl>\n<dt class=\"hdlist1\">åŸå› </dt>\n<dd>\n<p><em>Starlark</em> ã®äºˆç´„èªï¼ˆ<a href=\"https://github.com/google/starlark-go/blob/master/doc/spec.md#lexical-elements\" target=\"_blank\" rel=\"noopener\">å‚ç…§</a>ï¼‰ã« <code>with</code> ãŒå…¥ã£ã¦ã„ã‚‹ãŸã‚ã€ãƒ‰ãƒƒãƒˆè¡¨è¨˜ï¼ˆ<code>~~.with</code>ï¼‰ã«ã‚ˆã‚‹åˆ©ç”¨ã¯ã§ããªã„ã€‚</p>\n</dd>\n<dt class=\"hdlist1\">å¯¾ç­–</dt>\n<dd>\n<p>ãƒ–ãƒ©ã‚±ãƒƒãƒˆè¡¨è¨˜ï¼ˆ<code>~~[\"with\"]</code>ï¼‰ã§å‚ç…§ã™ã‚Œã°ã„ã„ã€‚</p>\n<div class=\"exampleblock\">\n<div class=\"content\">\n<div \n    class=\"listingblock\">\n<div class=\"title\">âœ–ï¸NGï¼ˆãƒ‰ãƒƒãƒˆè¡¨è¨˜ï¼‰</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">action_name: #@ data.values.&lt;value&gt;.with.name</code></pre>\n  </div>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">âœ”ï¸OKï¼ˆãƒ–ãƒ©ã‚±ãƒƒãƒˆè¡¨è¨˜ï¼‰</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-yaml\"\n    data-lang=\"yaml\">action_name: #@ data.values.&lt;value&gt;[\"with\"].name</code></pre>\n  </div>\n</div>\n</div>\n</div>\n</dd>\n</dl>\n</div>\n<div class=\"admonitionblock note\">\n<table>\n<tr>\n<td class=\"icon\">\n<i class=\"fa icon-note\" title=\"Note\" data-md-icon=\"info\"></i>\n</td>\n<td class=\"content\">\n<code>with</code> ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ä»¥å¤–ã§ã‚‚ã“ã®ã‚¨ãƒ©ãƒ¼ã¯ç™ºç”Ÿã™ã‚‹ãŒã€åŒã˜ã‚ˆã†ã«ãƒ–ãƒ©ã‚±ãƒƒãƒˆè¡¨è¨˜ã‚’ä½¿ãˆã°ã„ã„ã€‚\n</td>\n</tr>\n</table>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_ãŠã‚ã‚Šã«\">ğŸ˜ãŠã‚ã‚Šã«</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p><code>ytt</code> ã®ã‚µãƒ³ãƒ—ãƒ«ãŒã„ã¾ã„ã¡ã‚ã‹ã‚‰ãªã‹ã£ãŸã®ã§å®Ÿéš›ã«è©¦ã—ã¦ã¿ãŸã®ã‚’æ›¸ã„ãŸã€‚<br>\nãŸã  <em>Overlays</em> ã¯ã™ã”ã„ä¾¿åˆ©ãªã‚“ã ã‘ã© <code>match</code> æ¡ä»¶ãŒå…¨ç„¶ã‚ã‹ã‚‰ã‚“ã€‚ãµã‚“ã„ãã§ä½¿ã£ã¦ã‚‹ã€‚</p>\n</div>\n<div class=\"paragraph\">\n<p>ãªãŠã€ä½œæˆã—ãŸ <code>ytt</code> ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã¾ã¾ã§ã¯ <em>GitHub</em> ã§ä½¿ãˆãªã„ã®ã§ã€</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><em>Git Hooks</em> ã§ <code>git push</code> å‰ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«</p>\n</li>\n<li>\n<p>åˆ¥ã® <em>GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼</em> ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã›ã¦ã‚³ãƒŸãƒƒãƒˆã‚’è¿½åŠ <sup class=\"footnote\">[<a id=\"_footnoteref_1\" class=\"footnote\" href=\"#_footnotedef_1\" title=\"View footnote.\">1</a>]</sup></p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>ã—ãŸã‚Šã™ã‚‹ã®ãŒã‚ˆã•ãã†ã€‚</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_å‚è€ƒ\">ğŸ“–å‚è€ƒ</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://carvel.dev/ytt/\" target=\"_blank\" rel=\"noopener\">Carvel - Carvel - ytt</a></p>\n</li>\n<li>\n<p><a href=\"https://github.com/vmware-tanzu/carvel-ytt\" target=\"_blank\" rel=\"noopener\">vmware-tanzu/carvel-ytt: YAML templating tool that works on YAML structure instead of text</a></p>\n</li>\n<li>\n<p><a href=\"https://github.com/vmware-tanzu/carvel-community/tree/develop/proposals/ytt/001-schemas\" target=\"_blank\" rel=\"noopener\">carvel-community/proposals/ytt/001-schemas at develop Â· vmware-tanzu/carvel-community</a></p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div id=\"footnotes\">\n<hr>\n<div class=\"footnote\" id=\"_footnotedef_1\">\n<a href=\"#_footnoteref_1\">1</a>. ãŸã ã— <code>GITHUB_TOKEN</code> ã«ã¯ <code>workflows</code> æ¨©é™ãŒè¨±å¯ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€å€‹äººã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’åˆ©ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\n</div>\n</div>","title":"GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ YAML ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ„ãƒ¼ãƒ«ï¼ˆyttï¼‰ã§æ¥½ã«ç”Ÿæˆã—ãŸã„ï¼","created_at":"2021-06-18","tags":["yaml","ytt","github-actions"],"updated_at":"2021-12-06","author":"ç§‹ã€…ã™ã™ã","revision":"1.2","revision_remark":"ytt v0.37.0 ã§ã®æƒ…å ±ã«æ›´æ–°"}