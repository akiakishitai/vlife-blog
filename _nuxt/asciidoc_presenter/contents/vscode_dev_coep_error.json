{
  "filename": "vscode_dev_coep_error.adoc",
  "rendered": [
    "<div id=\"toc\" class=\"toc\">",
    "<div id=\"toctitle\">ç›®æ¬¡</div>",
    "<ul class=\"sectlevel1\">",
    "<li><a href=\"#_ç—‡çŠ¶\">ğŸ¤¢ç—‡çŠ¶</a></li>",
    "<li><a href=\"#_åŸå› \">ğŸ”åŸå› </a></li>",
    "<li><a href=\"#_å¯¾ç­–\">ğŸš‘å¯¾ç­–</a>",
    "<ul class=\"sectlevel2\">",
    "<li><a href=\"#_asciidoctor_js_extensions_ã§_crossorigin_å±æ€§ã‚’è¿½åŠ ã™ã‚‹\"><em>Asciidoctor.js Extensions</em> ã§ <code>crossorigin</code> å±æ€§ã‚’è¿½åŠ ã™ã‚‹</a></li>",
    "</ul>",
    "</li>",
    "<li><a href=\"#_å‚è€ƒ\">ğŸ“–å‚è€ƒ</a></li>",
    "</ul>",
    "</div>",
    "<div class=\"sect1\">",
    "<h2 id=\"_ç—‡çŠ¶\">ğŸ¤¢ç—‡çŠ¶</h2>",
    "<div class=\"sectionbody\">",
    "<div class=\"paragraph\">",
    "<p><em>AsciiDoc</em> æ–‡æ›¸ä½œæˆä¸­ã« <em>kroki</em> ã§ã‚°ãƒ©ãƒ•æç”»ã—ã‚ˆã†ã¨ã—ãŸã‚‰ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢ã«è¡¨ç¤ºã•ã‚Œãªã‹ã£ãŸã€‚<br>",
    "<em>Chrome</em> ã® <em>Developper Tools</em> ã‹ã‚‰ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼ã‚’è¦‹ã¦ã¿ã‚‹ã¨ <code>net::ERR_BLOCKED_BY_RESPONSE.NotSameOriginAfterDefaultedToSameOriginByCoep</code> ã®ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºã€‚</p>",
    "</div>",
    "<table class=\"tableblock frame-all grid-all fit-content\">",
    "<caption class=\"title\">Table 1. ç’°å¢ƒ</caption>",
    "<colgroup>",
    "<col>",
    "<col>",
    "</colgroup>",
    "<thead>",
    "<tr>",
    "<th class=\"tableblock halign-center valign-top\">App</th>",
    "<th class=\"tableblock halign-center valign-top\">Version</th>",
    "</tr>",
    "</thead>",
    "<tbody>",
    "<tr>",
    "<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\"><strong>VS Code</strong></p></td>",
    "<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">1.84.1</p></td>",
    "</tr>",
    "<tr>",
    "<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\"><strong>AsciiDoc (VS Code æ‹¡å¼µæ©Ÿèƒ½)</strong></p></td>",
    "<td class=\"tableblock halign-left valign-top\"><p class=\"tableblock\">v3.1.7</p></td>",
    "</tr>",
    "</tbody>",
    "</table>",
    "</div>",
    "</div>",
    "<div class=\"sect1\">",
    "<h2 id=\"_åŸå› \">ğŸ”åŸå› </h2>",
    "<div class=\"sectionbody\">",
    "<div class=\"paragraph\">",
    "<p><code>vscode.dev</code> ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä»‹ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚‹ã®ã§ <em>CORS</em> å•é¡Œã‹ï¼Ÿ<br>",
    "ã¨æ€ã£ãŸã‚‰ <a href=\"https://developer.mozilla.org/ja/docs/Web/HTTP/Cross-Origin_Resource_Policy\" target=\"_blank\" rel=\"noopener\"><em>Cross-Origin-Resource-Policyï¼ˆCORPï¼‰</em> ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼</a>æœªå®šç¾©ã«ã‚ˆã‚‹ã‚¨ãƒ©ãƒ¼ã¿ãŸã„ã€‚</p>",
    "</div>",
    "<div class=\"imageblock border-2 flex justify-center\">",
    "<div class=\"content\">",
    "<img src=\"/_images/error/cross-origin-resource-policy-undefined.png\" alt=\"CORPæœªå®šç¾©ã«ã‚ˆã‚‹ã‚¨ãƒ©ãƒ¼ã€‚\" width=\"400px\">",
    "</div>",
    "</div>",
    "<hr>",
    "<div class=\"paragraph\">",
    "<p>ä¸Šè¨˜ã‚¨ãƒ©ãƒ¼ã¯ <a href=\"https://developer.mozilla.org/ja/docs/Web/HTTP/Headers/Cross-Origin-Embedder-Policy\" target=\"_blank\" rel=\"noopener\"><em>Cross-Origin-Embedder-Policyï¼ˆCOEPï¼‰</em> ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼</a>ã«ãŠã„ã¦ã€æ˜ç¤ºçš„ã«è¨±å¯ã‚’ä¸ãˆã¦ã„ãªã„å¤–éƒ¨ <em>origin</em> ã®ãƒªã‚½ãƒ¼ã‚¹ãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹ã“ã¨ã‚’é˜²æ­¢ã™ã‚‹è¨­å®š<sup class=\"footnote\">[<a id=\"_footnoteref_1\" class=\"footnote\" href=\"#_footnotedef_1\" title=\"View footnote.\">1</a>]</sup>ã®å ´åˆã«ç™ºç”Ÿã™ã‚‹ã€‚<br>",
    "ã¤ã¾ã‚Š <code>vscode.dev</code> å´ã® <em>COEP</em> è¨­å®šã«èµ·å› ã™ã‚‹ã€‚</p>",
    "</div>",
    "<div class=\"paragraph\">",
    "<p>ã‚ˆã£ã¦å½“ç„¶ã“ã‚Œã¯ <em>kroki</em> ã‚µãƒ¼ãƒ“ã‚¹ã ã‘ã®å•é¡Œã§ã¯ãªãã€ä»–ã® <em>CORP</em> ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ãŒå®šç¾©ã•ã‚Œã¦ã„ãªã„ã‚µãƒ¼ãƒ“ã‚¹ã‚‚ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹ã€‚</p>",
    "</div>",
    "</div>",
    "</div>",
    "<div class=\"sect1\">",
    "<h2 id=\"_å¯¾ç­–\">ğŸš‘å¯¾ç­–</h2>",
    "<div class=\"sectionbody\">",
    "<div class=\"paragraph\">",
    "<p>ã¨ã‚Šã‚ãˆãšä»Šå›ã¯ <code>vscode.dev</code> ä¸Šã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ç”»åƒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã—ã¾ã†ã“ã¨ã‚’å›é¿ã§ãã‚Œã°ã„ã„ã®ã§ã€ <code>&lt;img&gt;</code> ã‚¿ã‚°ã« <strong><code>crossorigin</code></strong> å±æ€§ã‚’ã¤ã‘ã‚‹ã“ã¨ã«ã—ãŸ<sup class=\"footnote\">[<a id=\"_footnoteref_2\" class=\"footnote\" href=\"#_footnotedef_2\" title=\"View footnote.\">2</a>]</sup>ã€‚</p>",
    "</div>",
    "<div class=\"exampleblock\">",
    "<div class=\"title\">Example 1. crossorigin å±æ€§</div>",
    "<div class=\"content\">",
    "<div ",
    "    class=\"listingblock\">",
    "",
    "  <div class=\"content\">",
    "  <pre class=\"highlight \" ><code class=\"language-asciidoc\"",
    "    data-lang=\"asciidoc\">&lt;img src=\"https://example.com/hoge.png\"&gt;  <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>",
    "",
    "&lt;img src=\"https://example.com/hoge.png\" <strong class=\"text-red-500\">crossorigin</strong>&gt;  <i class=\"conum\" data-value=\"2\"></i><b>(2)</b></code></pre>",
    "  </div>",
    "</div>",
    "<div class=\"colist arabic\">",
    "<table>",
    "<tr>",
    "<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>",
    "<td><em>COEP</em> ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹ã€‚</td>",
    "</tr>",
    "<tr>",
    "<td><i class=\"conum\" data-value=\"2\"></i><b>2</b></td>",
    "<td><code>&lt;img&gt;</code> ã‚„ <code>&lt;link&gt;</code> ã‚¿ã‚°ãªã©ã« <strong><code>crossorigin</code></strong> å±æ€§ã‚’ã¤ã‘ã‚‹ã¨ <em>COEP</em> ã«ã‚ˆã‚‹ãƒ–ãƒ­ãƒƒã‚¯ã¯å›é¿ã§ãã‚‹ï¼ˆ<em>CORS</em> å¯¾å¿œã®å¿…è¦ã‚ã‚Šï¼‰ã€‚<br>",
    "ğŸ“– <a href=\"https://developer.mozilla.org/ja/docs/Web/HTML/Attributes/crossorigin\" class=\"italic\" target=\"_blank\" rel=\"noopener\">HTML å±æ€§: crossorigin - HTML: ãƒã‚¤ãƒ‘ãƒ¼ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èª | MDN</a></td>",
    "</tr>",
    "</table>",
    "</div>",
    "</div>",
    "</div>",
    "<div class=\"paragraph\">",
    "<p>ãªãŠ <em>AsciiDoc</em> ã®åŸºæœ¬æ©Ÿèƒ½ã§ã¯è‡ªç”±ã« <em>HTML</em> å±æ€§ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã¯ã§ããªã„ãŸã‚ã€<em>Asciidoc.js</em> ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½ã‚’åˆ©ç”¨ã™ã‚‹ã€‚</p>",
    "</div>",
    "<div class=\"sect2\">",
    "<h3 id=\"_asciidoctor_js_extensions_ã§_crossorigin_å±æ€§ã‚’è¿½åŠ ã™ã‚‹\"><em>Asciidoctor.js Extensions</em> ã§ <code>crossorigin</code> å±æ€§ã‚’è¿½åŠ ã™ã‚‹</h3>",
    "<div class=\"paragraph\">",
    "<p><code>asciidoctor-vscode</code> ã§ã¯ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½ã®ä¸€ã¤ã§ã‚ã‚‹ <a href=\"https://docs.asciidoctor.org/asciidoctor.js/latest/extend/extensions/\" target=\"_blank\" rel=\"noopener\"><em>Asciidoctor.js Extensions</em></a> ãŒåˆ©ç”¨ã§ãã‚‹<sup class=\"footnote\">[<a id=\"_footnoteref_3\" class=\"footnote\" href=\"#_footnotedef_3\" title=\"View footnote.\">3</a>]</sup>ãŸã‚ã€ãã‚Œã«ã‚ˆã‚Š <code>crossorigin</code> å±æ€§ã‚’è‡ªå‹•ã§è¿½åŠ ã™ã‚‹ã‚ˆã†ã«ã—ãŸã€‚</p>",
    "</div>",
    "<div class=\"exampleblock\">",
    "<div class=\"title\">Example 2. asciidoctor-vscode ã§ Asciidoctor.js Extensions ã®åˆ©ç”¨</div>",
    "<div class=\"content\">",
    "<div class=\"paragraph\">",
    "<p>æ–¹æ³•ã¨ã—ã¦ã¯ <em>Postprocessor</em> ã§HTMLå¤‰æ›å¾Œã®æ–‡å­—åˆ—ã‚’æ­£è¦è¡¨ç¾ã§ç½®æ›ã•ã›ã‚‹ã€‚<br>",
    "ğŸ“– <span class=\"italic\"><a href=\"https://docs.asciidoctor.org/asciidoctor.js/latest/extend/extensions/postprocessor/\" target=\"_blank\" rel=\"noopener\">Postprocessor Extension Example | Asciidoctor Docs</a></span></p>",
    "</div>",
    "<div class=\"olist arabic\">",
    "<ol class=\"arabic\">",
    "<li>",
    "<p>Asciidoctor.js ã®æ‹¡å¼µæ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹</p>",
    "<div ",
    "    class=\"listingblock\">",
    "<div class=\"title\">.vscode/settings.json</div>",
    "  <div class=\"content\">",
    "  <pre class=\"highlight \" ><code class=\"language-json\"",
    "    data-lang=\"json\">{",
    "  \"asciidoc.extensions.registerWorkspaceExtensions\": true",
    "}</code></pre>",
    "  </div>",
    "</div>",
    "</li>",
    "<li>",
    "<p><code>.asciidoctor/lib</code> ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä¸‹ã«æ‹¡å¼µæ©Ÿèƒ½ï¼ˆ<code>*.js</code>ï¼‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹</p>",
    "<details>",
    "<summary class=\"title\">crossorigin å±æ€§ã‚’è¿½åŠ ã™ã‚‹æ‹¡å¼µæ©Ÿèƒ½ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾‹</summary>",
    "<div class=\"content\">",
    "<div ",
    "    class=\"listingblock\">",
    "<div class=\"title\">.asciidoctor/lib/crossorigin.js</div>",
    "  <div class=\"content\">",
    "  <pre class=\"highlight \" ><code class=\"language-javascript\"",
    "    data-lang=\"javascript\">// @ts-check",
    "/**",
    " * @typedef {object} CrossoriginTarget - crossorigin å±æ€§ã‚’ã¤ã‘ãŸã„å¯¾è±¡ã®æƒ…å ±ã‚’æ ¼ç´ã€‚",
    " * @prop {string[]} urls - ç½®æ›å¯¾è±¡ã¨ã™ã‚‹URL",
    " * @prop {'audio'|'img'|'link'|'script'|'video'} tag - ç½®æ›å¯¾è±¡ã¨ã™ã‚‹HTMLã‚¿ã‚°å",
    " */",
    "",
    "/**",
    " * @typedef {*} Postprocessor",
    " *",
    " * @typedef {object} PostprocessorDsl",
    " * @prop {(block: (this: Postprocessor, document: Document, output: string) =&gt; void) =&gt; void} process",
    " */",
    "",
    "/**",
    " * ç½®æ›å¯¾è±¡ã¨ã™ã‚‹æ­£è¦è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½œæˆã€‚",
    " * @param {CrossoriginTarget} target",
    " * @returns {RegExp}",
    " */",
    "const createPattern = (target) =&gt; {",
    "  const orUrl = `(?:${target.urls.join('|')})`",
    "",
    "  switch (target.tag) {",
    "    case 'img':",
    "      return new RegExp(`(&lt;img .*?src=\"${orUrl}[^&gt;]*)&gt;`, 'g')",
    "",
    "    default:",
    "      console.warn(",
    "        `[crossorigin Extension]: ${target.tag} tag is not implements.`",
    "      )",
    "      break",
    "  }",
    "",
    "  return new RegExp('')",
    "}",
    "",
    "/**",
    " * Postprocessor æ‹¡å¼µæ©Ÿèƒ½ã®å®Ÿè£…ã€‚",
    " * å¤–éƒ¨å‚ç…§ã® &lt;img&gt; ã‚¿ã‚°ã« crossorigin å±æ€§ã‚’æŒ¿å…¥ã™ã‚‹ã€‚",
    " * @this {PostprocessorDsl}",
    " */",
    "function processor() {",
    "  /** @type {CrossoriginTarget[]} */",
    "  const targets = [",
    "    {",
    "      tag: 'img',",
    "      urls: ['https://img.shields.io', 'https://kroki.io', 'http://localhost'],",
    "    },",
    "  ]",
    "",
    "  const self = this",
    "  self.process((doc, output) =&gt; {",
    "    const replaced = targets",
    "      .map((target) =&gt; createPattern(target))",
    "      .reduce(",
    "        (source, pattern) =&gt; source.replace(pattern, '$1 crossorigin&gt;'),",
    "        output",
    "      )",
    "",
    "    return replaced",
    "  })",
    "}",
    "",
    "/**",
    " * ä¸Šè¨˜ processor() ã‚’ Postprocessor ã¨ã—ã¦ç™»éŒ²ã™ã‚‹ register é–¢æ•°ã‚’å…¬é–‹ã€‚",
    " * @param {*} registry",
    " */",
    "module.exports.register = (registry) =&gt; {",
    "  typeof registry.postprocessor === 'function'",
    "    ? registry.postprocessor(processor)",
    "    : console.warn(",
    "        '[crossorigin Extension]: registry.postprocessor is not function.'",
    "      )",
    "}</code></pre>",
    "  </div>",
    "</div>",
    "</div>",
    "</details>",
    "</li>",
    "</ol>",
    "</div>",
    "<hr>",
    "<div class=\"paragraph\">",
    "<p>ä»¥ä¸Šã§ä½œæˆã—ãŸæ‹¡å¼µæ©Ÿèƒ½ãŒé©ç”¨ã•ã‚Œã‚‹ã€‚</p>",
    "</div>",
    "</div>",
    "</div>",
    "</div>",
    "</div>",
    "</div>",
    "<div class=\"sect1\">",
    "<h2 id=\"_å‚è€ƒ\">ğŸ“–å‚è€ƒ</h2>",
    "<div class=\"sectionbody\">",
    "<div class=\"ulist\">",
    "<div class=\"title\">crossorigin</div>",
    "<ul>",
    "<li>",
    "<p><a href=\"https://developer.mozilla.org/ja/docs/Web/HTTP/Cross-Origin_Resource_Policy\" target=\"_blank\" rel=\"noopener\">Cross-Origin Resource Policy (CORP) - HTTP | MDN</a></p>",
    "</li>",
    "<li>",
    "<p><a href=\"https://developer.mozilla.org/ja/docs/Web/HTTP/Headers/Cross-Origin-Embedder-Policy\" target=\"_blank\" rel=\"noopener\">Cross-Origin-Embedder-Policy - HTTP | MDN</a></p>",
    "</li>",
    "<li>",
    "<p><a href=\"https://developer.mozilla.org/ja/docs/Web/HTML/Attributes/crossorigin\" class=\"italic\" target=\"_blank\" rel=\"noopener\">HTML å±æ€§: crossorigin - HTML: ãƒã‚¤ãƒ‘ãƒ¼ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èª | MDN</a></p>",
    "</li>",
    "</ul>",
    "</div>",
    "<div class=\"ulist\">",
    "<div class=\"title\">AsciiDoc</div>",
    "<ul>",
    "<li>",
    "<p><a href=\"https://docs.asciidoctor.org/asciidoctor.js/latest/extend/extensions/postprocessor/\" target=\"_blank\" rel=\"noopener\">Postprocessor Extension Example | Asciidoctor Docs</a></p>",
    "</li>",
    "</ul>",
    "</div>",
    "</div>",
    "</div>",
    "<div id=\"footnotes\">",
    "<hr>",
    "<div class=\"footnote\" id=\"_footnotedef_1\">",
    "<a href=\"#_footnoteref_1\">1</a>. <code>require-corp</code>",
    "</div>",
    "<div class=\"footnote\" id=\"_footnotedef_2\">",
    "<a href=\"#_footnoteref_2\">2</a>. æœ¬æ¥ã¯ <em>kroki</em> ã‚µãƒ¼ãƒãƒ¼å´ã§ <code>Cross-Origin-Resource-Policy: <strong>cross-origin</strong></code> ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒä¸€ç•ªç­‹ãŒã‚ˆã•ãã†ã€‚ãŸã ã€<em>kroki</em> å´ã®è¨­å®šã§ <em>CORP</em> ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’è¿½åŠ ã™ã‚‹ä»•çµ„ã¿ã¯ãªã•ãã†ã ã—ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ç«‹ã¦ã¦ã‚ã‚Œã“ã‚Œã—ã¦ã‚‚å¤–éƒ¨ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒ¡ãƒªãƒƒãƒˆãŒæ„å‘³ãªããªã‚‹ã—â€¦â€¦ã€‚",
    "</div>",
    "<div class=\"footnote\" id=\"_footnotedef_3\">",
    "<a href=\"#_footnoteref_3\">3</a>. <a href=\"https://docs.asciidoctor.org/asciidoctor.js/latest/extend/converter/template-converter/\" target=\"_blank\" rel=\"noopener\"><em>Template Converter</em></a> ã‚‚ä½¿ãˆã‚‹ã¯ãšã ã‘ã© <code>vscode.dev</code> ä¸Šã§ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã®ã§è¦‹é€ã‚Šã€‚",
    "</div>",
    "</div>"
  ],
  "title": "vscode.dev ã«ãŠã„ã¦AsciiDocãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å†…ã®ç”»åƒãŒ net::ERR_BLOCKED_BY_RESPONSE ã‚¨ãƒ©ãƒ¼ã§è¡¨ç¤ºã•ã‚Œãªã„å•é¡Œ",
  "created_at": "2023-12-25",
  "tags": [
    "vscode",
    "remote-tunnels",
    "asciidoc"
  ],
  "updated_at": "2023-12-25",
  "author": "ç§‹ã€…ã™ã™ã",
  "revision": "1.0"
}