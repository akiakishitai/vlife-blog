{"filename":"git_config_include_section.adoc","rendered":"<div id=\"toc\" class=\"toc\">\n<div id=\"toctitle\">目次</div>\n<ul class=\"sectlevel1\">\n<li><a href=\"#_使い方サンプル\">🧪使い方サンプル</a></li>\n<li><a href=\"#_include_および_includeif_について\">🍉<code>include</code> および <code>includeIf</code> について</a>\n<ul class=\"sectlevel2\">\n<li><a href=\"#_include\">include</a></li>\n<li><a href=\"#_includeif\">includeIf</a></li>\n</ul>\n</li>\n<li><a href=\"#_参考\">📖参考</a></li>\n</ul>\n</div>\n<div id=\"preamble\">\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>今更ながら <code>include</code> 節を設定すれば <code>.gitconfig</code> の一部設定を別ファイルで管理できることを知ったので、その備忘録。</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_使い方サンプル\">🧪使い方サンプル</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>例を見たほうが早いと思うので。</p>\n</div>\n<div class=\"exampleblock\">\n<div class=\"title\">Example 1. include を使った場合の例</div>\n<div class=\"content\">\n<div \n    class=\"listingblock\">\n<div class=\"title\">.gitconfig</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-ini\"\n    data-lang=\"ini\"># This is the config file.\n[core]\n\tquotepath = false\n\tcommitGraph = true\n\tautocrlf = input\n\t...\n\n[include]\t<i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n    path = ~/.config/git/config.d/alias.conf\t<i class=\"conum\" data-value=\"2\"></i><b>(2)</b> <i class=\"conum\" data-value=\"3\"></i><b>(3)</b>\n\tpath = ~/.config/git/config.d/ghq.conf\n\n[includeIf \"gitdir:~/ghq/test/\"]\t<i class=\"conum\" data-value=\"4\"></i><b>(4)</b>\n    path = ~/.config/git/config.d/test_user.conf</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td>別ファイルから設定を取り込みたいときは <code>include</code> で指定する。</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"2\"></i><b>2</b></td>\n<td><code>path</code> 変数に取り込むファイルのパス<sup class=\"footnote\">[<a id=\"_footnoteref_1\" class=\"footnote\" href=\"#_footnotedef_1\" title=\"View footnote.\">1</a>]</sup>を指定する。</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"3\"></i><b>3</b></td>\n<td><code>path</code> 変数は複数指定できる。よって取り込ませたいファイルの数だけ指定する。</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"4\"></i><b>4</b></td>\n<td>ある条件下のみ取り込ませたい設定がある場合は、<code>includeIf</code> を用いる。<br>\nこの例では、指定したパス以下にある <em>git</em> リポジトリにおいて下記のファイルを取り込ませている。</td>\n</tr>\n</table>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">~/.config/git/config.d/alias.conf</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-ini\"\n    data-lang=\"ini\"># Git aliases\n[alias]\n\taliases = config --get-regexp alias\n\tremotes = remote -v\n\tstashes = stash list\n    ...</code></pre>\n  </div>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">~/.config/git/config.d/test_user.conf</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-ini\"\n    data-lang=\"ini\"># Test user\n[user]\n\tname = tester\n\temail = tester@example.email.com</code></pre>\n  </div>\n</div>\n<div \n    class=\"listingblock no-line-numbers command-line\">\n<div class=\"title\">設定チェック</div>\n  <div class=\"content\">\n  <pre class=\"highlight command-line\" data-user=\"user\"\n    data-host=\"local\"\n    data-output=\"2,4-5,8\"\n    ><code class=\"language-bash\"\n    data-lang=\"bash\">git config alias.aliases\nconfig --get-regexp alias\ngit config user.name\nAkiaki Susuki\n\ncd ~/ghq/test/sample-project\t<i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\ngit config user.name\ntester</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td>上記 <code>includeIf</code> の条件を満たすパスであるため、設定が更新されている。</td>\n</tr>\n</table>\n</div>\n</div>\n</div>\n<div class=\"exampleblock\">\n<div class=\"title\">Example 2. CLI から include.path を設定する場合</div>\n<div class=\"content\">\n<div \n    class=\"listingblock no-line-numbers command-line\">\n\n  <div class=\"content\">\n  <pre class=\"highlight command-line\" data-user=\"user\"\n    data-host=\"local\"\n    data-output=\"2,4-10\"\n    ><code class=\"language-bash\"\n    data-lang=\"bash\">git config --global --add include.path \"/path/to/include/file\"\t<i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n\ngit config --get-regexp include.path\t<i class=\"conum\" data-value=\"2\"></i><b>(2)</b>\ninclude.path ~/.config/git/config.d/alias.conf\ninclude.path ~/.config/git/config.d/ghq.conf\ninclude.path /path/to/include/file</code></pre>\n  </div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td><code>path</code> 変数は複数回記述されるため、<code>--add</code> オプションが必要になる。</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"2\"></i><b>2</b></td>\n<td><code>git config</code> コマンドから <code>include.path</code> の値一覧を確認するには <a href=\"https://git-scm.com/docs/git-config#Documentation/git-config.txt---get-regexp\" target=\"_blank\" rel=\"noopener\"><code>--get-regexp</code></a> オプションを利用して検索する。</td>\n</tr>\n</table>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_include_および_includeif_について\">🍉<code>include</code> および <code>includeIf</code> について</h2>\n<div class=\"sectionbody\">\n<div class=\"sect2\">\n<h3 id=\"_include\"><a href=\"https://git-scm.com/docs/git-config#_includes\" target=\"_blank\" rel=\"noopener\">include</a></h3>\n<div class=\"paragraph\">\n<p><code>include</code> 節を使うことで別ファイルから <code>.gitconfig</code> の設定を取り込むことができる。</p>\n</div>\n<div class=\"paragraph\">\n<p><code>path</code> 変数に取り込ませたい設定ファイルのパスを指定する。<br>\nこのとき相対パスも指定でき、<code>include</code> が記述されたファイルを起点とした相対パスとなる。<br>\nまた、チルダ（<code>~</code>）によるパス指定もできる。</p>\n</div>\n<div class=\"paragraph\">\n<p><code>path</code> 変数は複数回の設定ができるため、取り込ませるファイルの数だけ指定する。</p>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_includeif\"><a href=\"https://git-scm.com/docs/git-config#_conditional_includes\" target=\"_blank\" rel=\"noopener\">includeIf</a></h3>\n<div class=\"paragraph\">\n<p>ファイルを取り込むときにある条件をつけたい場合は <code>includeIf</code> を利用する。</p>\n</div>\n<div \n    class=\"listingblock\">\n<div class=\"title\">.gitconfig</div>\n  <div class=\"content\">\n  <pre class=\"highlight \" ><code class=\"language-ini\"\n    data-lang=\"ini\">[includeIf \"&lt;conditional&gt;\"]\n\tpath = /path/to/file.inc</code></pre>\n  </div>\n</div>\n<div class=\"dlist\">\n<div class=\"title\">指定できる条件について</div>\n<dl>\n<dt class=\"hdlist1\">gitdir:<em>&lt;pattern></em></dt>\n<dd>\n<p><code>.git</code> ディレクトリのパスが指定した <em>glob</em> パターンと一致する場合に真となる。</p>\n<div class=\"paragraph\">\n<p>通常はリポジトリのパスを指定したいはずなので、パターンの末尾を <code>/</code> または <code>/**</code> とすればいい<sup class=\"footnote\">[<a id=\"_footnoteref_2\" class=\"footnote\" href=\"#_footnotedef_2\" title=\"View footnote.\">2</a>]</sup>。<br>\nこの場合、指定したパターンのパス以下にあるリポジトリすべてが対象となる。</p>\n</div>\n</dd>\n<dt class=\"hdlist1\">gitdir/i:<em>&lt;pattern></em></dt>\n<dd>\n<p>大文字小文字を区別しない <code>gitdir</code> 。</p>\n</dd>\n<dt class=\"hdlist1\">onbranch:<em>&lt;pattern></em></dt>\n<dd>\n<p>ブランチ名が <em>glob</em> パターンと一致する場合に真となる。</p>\n</dd>\n</dl>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_参考\">📖参考</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://git-scm.com/docs/git-config\" target=\"_blank\" rel=\"noopener\">git-config Documentation</a></p>\n</li>\n<li>\n<p><a href=\"https://kakakakakku.hatenablog.com/entry/2019/11/06/114926\" target=\"_blank\" rel=\"noopener\">includeIf を使って git config をプロジェクトごとに読み替える - kakakakakku blog</a></p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div id=\"footnotes\">\n<hr>\n<div class=\"footnote\" id=\"_footnotedef_1\">\n<a href=\"#_footnoteref_1\">1</a>. 絶対パス・相対パスの両方とも指定可能。相対パスにおいてはチルダ（<code>~</code>）が使用できる。\n</div>\n<div class=\"footnote\" id=\"_footnotedef_2\">\n<a href=\"#_footnoteref_2\">2</a>. パターンの末尾が <code>/</code> であるとき、自動的に <code>**</code> が挿入されて解釈されるため。\n</div>\n</div>","title":".gitconfig で別ファイルから設定を include する","created_at":"2021-07-06","tags":["git","gitconfig","備忘録"],"updated_at":"2021-07-06","author":"秋々すすき","revision":"1.0"}