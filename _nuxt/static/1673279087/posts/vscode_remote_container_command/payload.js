__NUXT_JSONP__("/posts/vscode_remote_container_command", (function(a,b){return {data:[{posted:{filename:"vscode_remote_container_command.adoc",rendered:"\u003Cdiv id=\"toc\" class=\"toc\"\u003E\n\u003Cdiv id=\"toctitle\"\u003E目次\u003C\u002Fdiv\u003E\n\u003Cul class=\"sectlevel1\"\u003E\n\u003Cli\u003E\u003Ca href=\"#_はじめに\"\u003Eはじめに🤔\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_各プロパティの実行タイミング\"\u003E各プロパティの実行タイミング🏄\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_おわりに\"\u003Eおわりに🐾\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"#_参考\"\u003E参考📖\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_はじめに\"\u003Eはじめに🤔\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003E\u003Cem\u003EVS Code\u003C\u002Fem\u003E 拡張機能の \u003Cem\u003ERemote Containers\u003C\u002Fem\u003E を使ったときにコンテナ内でコマンド実行させるには \u003Ccode\u003EpostCreateCommand\u003C\u002Fcode\u003E, \u003Ccode\u003EpostStartCommand\u003C\u002Fcode\u003E, \u003Ccode\u003EpostAttachCommand\u003C\u002Fcode\u003E プロパティで指定すればいい。\u003Cbr\u003E\nが、\u003Ca href=\"https:\u002F\u002Fcode.visualstudio.com\u002Fdocs\u002Fremote\u002Fdevcontainerjson-reference\" target=\"_blank\" rel=\"noopener\"\u003Edevcontainer.jsonのリファレンス\u003C\u002Fa\u003Eを見ても、実際にどのタイミングで実行されるのかいまいち分からなかったのでメモ。\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003Eなお下記バージョンでの確認であることに注意。\u003Cbr\u003E\nGitHubのIssue見てると実行タイミングについて変更されているので、今後のバージョンによって変わることは十分ありえる。\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Ctable class=\"tableblock frame-all grid-all fit-content\"\u003E\n\u003Ccaption class=\"title\"\u003ETable 1. 環境\u003C\u002Fcaption\u003E\n\u003Ccolgroup\u003E\n\u003Ccol\u003E\n\u003Ccol\u003E\n\u003C\u002Fcolgroup\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth class=\"tableblock halign-left valign-top\"\u003EApp\u003C\u002Fth\u003E\n\u003Cth class=\"tableblock halign-left valign-top\"\u003EVersion\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003EVS Code\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003E1.52.1\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003ERemote-Containers\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003E0.154.1\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_各プロパティの実行タイミング\"\u003E各プロパティの実行タイミング🏄\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdetails\u003E\n\u003Csummary class=\"title\"\u003Eテスト用に \u003Ccode\u003Edevcontainer.json\u003C\u002Fcode\u003E ファイルを書いて確認した結果が以下の表。\u003C\u002Fsummary\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cdiv \n    class=\"listingblock\"\u003E\n\u003Cdiv class=\"title\"\u003E.devcontainer\u002Fdevcontainer.json\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"content\"\u003E\n  \u003Cpre class=\"highlight \" \u003E\u003Ccode class=\"language-json\"\n    data-lang=\"json\"\u003E{\n  \"name\": \"Test for devcontainer\",\n  \"image\": \"alpine:3.12\",\n  \"extensions\": [\"mhutchie.git-graph\"],\n\n  \"postAttachCommand\": \"echo '---Attach---'\",\n  \"postCreateCommand\": \"echo '---Create---'\",\n  \"postStartCommand\": \"echo '--Start---'\"\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdetails\u003E\n\u003Ctable class=\"tableblock frame-all grid-all fit-content\"\u003E\n\u003Ccaption class=\"title\"\u003ETable 2. コンテナ内でのコマンド実行\u003C\u002Fcaption\u003E\n\u003Ccolgroup\u003E\n\u003Ccol\u003E\n\u003Ccol\u003E\n\u003C\u002Fcolgroup\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth class=\"tableblock halign-left valign-top\"\u003EProperty\u003C\u002Fth\u003E\n\u003Cth class=\"tableblock halign-left valign-top\"\u003EDesc\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003E\u003Ccode\u003EpostCreateCommand\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003Eコンテナ作成後、\u003Cem\u003Edotfiles\u003C\u002Fem\u003E や拡張機能のインストール前に実行される。\u003Cbr\u003E\nコンテナ作成時の1回のみ実行される。\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003E\u003Ccode\u003EpostStartCommand\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003EVS Code Server 接続後に実行される。\u003Cbr\u003E\n拡張機能以外のコンテナ設定が終わった後に実行される。\u003Cbr\u003E\nリモート接続するたびに実行される。\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003E\u003Ccode\u003EpostAttachCommand\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003E\u003Ccode\u003EpostStartCommand\u003C\u002Fcode\u003E の後に実行される。\u003Cbr\u003E\n拡張機能のインストールと並列実行されている。\u003Cbr\u003E\nリモート接続するたびに実行される。\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\n\u003Cdiv class=\"admonitionblock note\"\u003E\n\u003Ctable\u003E\n\u003Ctr\u003E\n\u003Ctd class=\"icon\"\u003E\n\u003Ci class=\"fa icon-note\" title=\"Note\" data-md-icon=\"info\"\u003E\u003C\u002Fi\u003E\n\u003C\u002Ftd\u003E\n\u003Ctd class=\"content\"\u003E\n各コマンドは \u003Ccode\u003EremoteUser\u003C\u002Fcode\u003E によって実行される（デフォルトは \u003Ccode\u003Eroot\u003C\u002Fcode\u003E ）。\n\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftable\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"imageblock kroki\"\u003E\n\u003Cdiv class=\"content\"\u003E\n\u003Cspan class=\"alt\"\u003ERemote Containers 実行フロー\u003C\u002Fspan\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"title\"\u003EFigure 1. Remote Containers 実行フロー\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_おわりに\"\u003Eおわりに🐾\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003Eとりあえず \u003Ccode\u003EpostCreateCommand\u003C\u002Fcode\u003E を使っておけば大丈夫かと思ったけど、意外とそうでもなかった。\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"paragraph\"\u003E\n\u003Cp\u003Eコマンドを1度だけ実行したいのか、毎回実行したいのかで使い分ける必要がわかってよかった。\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cdiv class=\"sect1\"\u003E\n\u003Ch2 id=\"_参考\"\u003E参考📖\u003C\u002Fh2\u003E\n\u003Cdiv class=\"sectionbody\"\u003E\n\u003Cdiv class=\"ulist\"\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcode.visualstudio.com\u002Fdocs\u002Fremote\u002Fdevcontainerjson-reference\" target=\"_blank\" rel=\"noopener\"\u003Edevcontainer.json reference\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E",title:"VSCode拡張機能 Remote Containers におけるpostCreateCommandなどの実行タイミングについて",created_at:b,tags:["vscode","remote-containers","devcontainer.json"],updated_at:b,author:"秋々すすき",description:a,revision:"1.0",revision_remark:a},navi:{next:{path:"\u002Fposts\u002Fgit_credential_windows",title:"Gitにおけるパスワード入力を省略する（Windows編）"},prev:{path:"\u002Fposts\u002Fgithub_actions_super_linter",title:"GitHubのSuper Linterを使ってみる"}},currentPath:"https:\u002F\u002Fvlike-vlife.netlify.app\u002Fposts\u002Fvscode_remote_container_command"}],fetch:{},mutations:a}}(void 0,"2021-01-06")));