__NUXT_JSONP__("/posts/json_schema_on_vscode", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af){return {data:[{posted:{filename:"json_schema_on_vscode.adoc",rendered:["\u003Cdiv id=\"toc\" class=\"toc\"\u003E","\u003Cdiv id=\"toctitle\"\u003E目次\u003C\u002Fdiv\u003E","\u003Cul class=\"sectlevel1\"\u003E","\u003Cli\u003E\u003Ca href=\"#_はじめに\"\u003E🥞はじめに\u003C\u002Fa\u003E\u003C\u002Fli\u003E","\u003Cli\u003E\u003Ca href=\"#_json_schema_作成\"\u003E⚙️\u003Cem\u003EJson Schema\u003C\u002Fem\u003E 作成\u003C\u002Fa\u003E","\u003Cul class=\"sectlevel2\"\u003E","\u003Cli\u003E\u003Ca href=\"#_json_schema_書き方_tips\"\u003E\u003Cem\u003EJson Schema\u003C\u002Fem\u003E 書き方 Tips\u003C\u002Fa\u003E","\u003Cul class=\"sectlevel3\"\u003E","\u003Cli\u003E\u003Ca href=\"#_declare-schema\"\u003E\u003Cem\u003EJson Schema\u003C\u002Fem\u003E の宣言\u003C\u002Fa\u003E\u003C\u002Fli\u003E","\u003Cli\u003E\u003Ca href=\"#_ref_キーワードによる他スキーマ参照\"\u003E\u003Ccode\u003E$ref\u003C\u002Fcode\u003E キーワードによる他スキーマ参照\u003C\u002Fa\u003E\u003C\u002Fli\u003E","\u003Cli\u003E\u003Ca href=\"#_プルダウンリストドロップダウンリスト的な使い方をしたい\"\u003Eプルダウンリスト（ドロップダウンリスト）的な使い方をしたい\u003C\u002Fa\u003E\u003C\u002Fli\u003E","\u003Cli\u003E\u003Ca href=\"#_additional-properties\"\u003E任意のキーを許可したい\u003C\u002Fa\u003E\u003C\u002Fli\u003E","\u003Cli\u003E\u003Ca href=\"#_default_examples_example_の違いについて\"\u003Edefault, examples, example の違いについて\u003C\u002Fa\u003E\u003C\u002Fli\u003E","\u003Cli\u003E\u003Ca href=\"#_スキーマの合成\"\u003Eスキーマの合成\u003C\u002Fa\u003E\u003C\u002Fli\u003E","\u003Cli\u003E\u003Ca href=\"#_条件分岐\"\u003E条件分岐\u003C\u002Fa\u003E\u003C\u002Fli\u003E",p,b,p,b,"\u003Cli\u003E\u003Ca href=\"#_openapi_を_json_schema_ドキュメント代わりに利用する\"\u003E📚\u003Cem\u003EOpenAPI\u003C\u002Fem\u003E を \u003Cem\u003EJson Schema\u003C\u002Fem\u003E ドキュメント代わりに利用する\u003C\u002Fa\u003E\u003C\u002Fli\u003E","\u003Cli\u003E\u003Ca href=\"#_json_schema_を有効化して_json_データを作成\"\u003E📈\u003Cem\u003EJson Schema\u003C\u002Fem\u003E を有効化して \u003Cem\u003EJSON\u003C\u002Fem\u003E データを作成\u003C\u002Fa\u003E\u003C\u002Fli\u003E","\u003Cli\u003E\u003Ca href=\"#_補足_json_schema_書くのしんどい\"\u003E😫補足： \u003Cem\u003EJson Schema\u003C\u002Fem\u003E 書くのしんどい\u003C\u002Fa\u003E\u003C\u002Fli\u003E","\u003Cli\u003E\u003Ca href=\"#_参考\"\u003E📖参考\u003C\u002Fa\u003E\u003C\u002Fli\u003E",p,a,w,"\u003Ch2 id=\"_はじめに\"\u003E🥞はじめに\u003C\u002Fh2\u003E",x,f,"\u003Cp\u003Eちょっとしたデータを集めて \u003Cem\u003EJSON\u003C\u002Fem\u003E や \u003Cem\u003EYAML\u003C\u002Fem\u003E 形式で保存したいときがある。\u003Cbr\u003E","このデータ収集が中長期的におよぶ場合、「どの項目を保存することにしたんだっけ……？」ってなるのを防ぎたい。\u003C\u002Fp\u003E",a,f,"\u003Cp\u003Eよって、\u003Ca href=\"https:\u002F\u002Fjson-schema.org\" target=\"_blank\" rel=\"noopener\"\u003E\u003Cstrong\u003E\u003Cem\u003EJson Schema\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E\u003C\u002Fa\u003E を作成することで \u003Cem\u003EJSON\u003C\u002Fem\u003E データのスキーマを定義する。\u003Cbr\u003E","\u003Cem\u003EVS Code\u003C\u002Fem\u003E では \u003Cem\u003EJson Schema\u003C\u002Fem\u003E を指定することでインテリセンスが有効になり、\u003Cem\u003EJSON\u003C\u002Fem\u003E データの入力も楽になって嬉しい。\u003C\u002Fp\u003E",a,"\u003Cdiv class=\"olist arabic mt-6\"\u003E","\u003Cdiv class=\"title\"\u003Eやること\u003C\u002Fdiv\u003E",D,e,"\u003Cp\u003E\u003Cem\u003EJson Schema\u003C\u002Fem\u003E を作成\u003C\u002Fp\u003E",b,e,"\u003Cp\u003E\u003Cem\u003EJson Schema\u003C\u002Fem\u003E のドキュメント（ \u003Cem\u003Ein OpenAPI\u003C\u002Fem\u003E ）を作成\u003C\u002Fp\u003E",b,e,"\u003Cp\u003E作成した \u003Cem\u003EJson Schema\u003C\u002Fem\u003E に則った \u003Cem\u003EJSON\u003C\u002Fem\u003E データを作成\u003C\u002Fp\u003E",b,E,a,"\u003Ctable class=\"tableblock frame-all grid-all fit-content\"\u003E","\u003Ccaption class=\"title\"\u003ETable 1. 環境\u003C\u002Fcaption\u003E","\u003Ccolgroup\u003E",S,S,"\u003C\u002Fcolgroup\u003E","\u003Cthead\u003E",c,"\u003Cth class=\"tableblock halign-left valign-top\"\u003EApp\u003C\u002Fth\u003E","\u003Cth class=\"tableblock halign-left valign-top\"\u003EVersion\u003C\u002Fth\u003E",d,"\u003C\u002Fthead\u003E","\u003Ctbody\u003E",c,"\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003E\u003Cstrong\u003EVS Code\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E","\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003E\u003Cem\u003E1.63.2\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E",d,c,"\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003E\u003Cstrong\u003E\u003Ca href=\"https:\u002F\u002Fjson-schema.org\" target=\"_blank\" rel=\"noopener\"\u003EJson Schema\u003C\u002Fa\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E","\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003E\u003Cem\u003EDraft 7\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E",d,c,"\u003Ctd class=\"tableblock halign-center valign-top\" colspan=\"2\"\u003E\u003Cp class=\"tableblock\"\u003E\u003Cem\u003EJson Schema（OpenAPI）プレビュー用\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E",d,c,"\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003E\u003Cstrong\u003E\u003Ca href=\"https:\u002F\u002Fmarketplace.visualstudio.com\u002Fitems?itemName=42Crunch.vscode-openapi\" target=\"_blank\" rel=\"noopener\"\u003EOpenAPI (Swagger) Editor\u003C\u002Fa\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E","\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003E\u003Cem\u003E4.8.1\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E",d,c,"\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003E\u003Cstrong\u003E\u003Ca href=\"https:\u002F\u002Fmarketplace.visualstudio.com\u002Fitems?itemName=ms-vscode.live-server\" target=\"_blank\" rel=\"noopener\"\u003ELive Preview\u003C\u002Fa\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E","\u003Ctd class=\"tableblock halign-left valign-top\"\u003E\u003Cp class=\"tableblock\"\u003E\u003Cem\u003E0.2.12\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E",d,"\u003C\u002Ftbody\u003E",k,a,a,w,"\u003Ch2 id=\"_json_schema_作成\"\u003E⚙️\u003Cem\u003EJson Schema\u003C\u002Fem\u003E 作成\u003C\u002Fh2\u003E",x,I,D,e,"\u003Cp\u003E\u003Ccode\u003E.json\u003C\u002Fcode\u003E ファイルを新規作成。\u003Csup class=\"footnote\"\u003E[\u003Ca id=\"_footnoteref_1\" class=\"footnote\" href=\"#_footnotedef_1\" title=\"View footnote.\"\u003E1\u003C\u002Fa\u003E]\u003C\u002Fsup\u003E\u003C\u002Fp\u003E",b,e,"\u003Cp\u003E\u003Cem\u003EVS Code\u003C\u002Fem\u003E が対応している \u003Cem\u003EJson Schema\u003C\u002Fem\u003E の仕様バージョン \u003Cstrong\u003E\u003Cem\u003EDraft 7\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E を指定（\u003Ca href=\"https:\u002F\u002Fcode.visualstudio.com\u002Fdocs\u002Flanguages\u002Fjson#_json-schemas-and-settings\" target=\"_blank\" rel=\"noopener\"\u003E参考\u003C\u002Fa\u003E）。\u003C\u002Fp\u003E",g,h,y,i,l,T,j,a,b,e,"\u003Cp\u003E上記より、\u003Cem\u003EJson Schema\u003C\u002Fem\u003E のインテリセンスが有効化されるので、それを利用してゴリゴリ書いていく。\u003Cbr\u003E","\u003Cem\u003EJson Schema\u003C\u002Fem\u003E についての詳細は \u003Ca href=\"https:\u002F\u002Fjson-schema.org\u002Funderstanding-json-schema\u002Findex.html\" target=\"_blank\" rel=\"noopener\"\u003EUnderstanding JSON Schema\u003C\u002Fa\u003E ドキュメントを参考にする。\u003C\u002Fp\u003E",b,E,a,q,"\u003Cdiv class=\"title\"\u003EExample 1. Json Schema サンプル\u003C\u002Fdiv\u003E",o,g,h,"\u003Cdiv class=\"title\"\u003Emyschema.json\u003C\u002Fdiv\u003E",i,l,r,"  \"$schema\": \"http:\u002F\u002Fjson-schema.org\u002Fdraft-07\u002Fschema#\",   \u003Ci class=\"conum\" data-value=\"1\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(1)\u003C\u002Fb\u003E","  \"title\": \"Fleet\",","  \"description\": \"Fleet collection\",",J,"  \"required\": [\"basic\", \"spec\"],  \u003Ci class=\"conum\" data-value=\"2\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(2)\u003C\u002Fb\u003E",U,"    \"basic\": { \"$ref\": \"#\u002Fdefinitions\u002FBasicInfo\" },   \u003Ci class=\"conum\" data-value=\"3\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(3)\u003C\u002Fb\u003E","    \"spec\": { \"$ref\": \"#\u002Fdefinitions\u002FSpec\" }          \u003Ci class=\"conum\" data-value=\"3\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(3)\u003C\u002Fb\u003E",K,"  \"definitions\": {    \u003Ci class=\"conum\" data-value=\"4\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(4)\u003C\u002Fb\u003E","    \"BasicInfo\": {","      \"description\": \"基本情報\",",V,"      \"required\": [\"registry\", \"name\", \"class\", \"type\"],  \u003Ci class=\"conum\" data-value=\"2\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(2)\u003C\u002Fb\u003E",W,"        \"registry\": { \"type\": \"string\", \"minLength\": 1 },","        \"name\": { \"type\": \"string\", \"minLength\": 1 },","        \"class\": { \"type\": \"string\", \"minLength\": 1 },","        \"series_number\": { \"type\": \"integer\", \"minimum\": 1 },","        \"type\": {","          \"type\": \"string\",","          \"enum\": [   \u003Ci class=\"conum\" data-value=\"5\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(5)\u003C\u002Fb\u003E","            \"戦艦\",","            \"巡洋戦艦\",","            \"航空母艦\",","            \"護衛空母\",","            \"重巡洋艦\",","            \"軽巡洋艦\",","            \"駆逐艦\",","            \"潜水艦\",","            \"海防艦\",","            \"補助艦艇\"","          ]",F,"        \"launched\": { \"type\": \"string\", \"format\": \"date\" }",X,Y,Z,"          \"registry\": \"JPN\",","          \"name\": \"赤城\",","          \"class\": \"赤城型\",","          \"series_number\": 1,","          \"type\": \"航空母艦\",","          \"launched\": \"1925-04-22\"",L,_,"    },","    \"Spec\": {",V,"      \"required\": [\"displacement\", \"length\", \"speed\"],  \u003Ci class=\"conum\" data-value=\"2\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(2)\u003C\u002Fb\u003E",W,"        \"displacement\": {","          \"description\": \"基準排水量（ton）\",",$,aa,F,"        \"length\": {","          \"description\": \"全長（m）\",",ab,"          \"minimum\": 0.01",F,"        \"power\": {","          \"description\": \"エンジンパワー（hp）\",",$,aa,F,"        \"speed\": {","          \"description\": \"最大速力（kt）\",",ab,"          \"minimum\": 1.0",L,X,Y,Z,"          \"displacement\": 36500,","          \"length\": 260.67,","          \"power\": 133000,","          \"speed\": 31.2",L,_,M,N,s,j,a,z,m,c,A,"\u003Ctd\u003E\u003Ca href=\"#_declare-schema\"\u003E\u003Cem\u003EJson Schema\u003C\u002Fem\u003E の宣言\u003C\u002Fa\u003E。\u003C\u002Ftd\u003E",d,c,O,"\u003Ctd\u003E\u003Cem\u003Eobject\u003C\u002Fem\u003E における必須プロパティを指定。\u003C\u002Ftd\u003E",d,c,"\u003Ctd\u003E\u003Ci class=\"conum\" data-value=\"3\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E3\u003C\u002Fb\u003E\u003C\u002Ftd\u003E","\u003Ctd\u003E\u003Ccode\u003E$ref\u003C\u002Fcode\u003E キーワードにより他のスキーマを参照している。\u003Cbr\u003E","\u003Cem\u003EJson Schema\u003C\u002Fem\u003E 評価時に参照されているスキーマが取得され、ここに適用される。\u003C\u002Ftd\u003E",d,c,"\u003Ctd\u003E\u003Ci class=\"conum\" data-value=\"4\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E4\u003C\u002Fb\u003E\u003C\u002Ftd\u003E","\u003Ctd\u003E\u003Ccode\u003E$ref\u003C\u002Fcode\u003E で参照するスキーマをここで定義する。\u003C\u002Ftd\u003E",d,c,"\u003Ctd\u003E\u003Ci class=\"conum\" data-value=\"5\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E5\u003C\u002Fb\u003E\u003C\u002Ftd\u003E","\u003Ctd\u003E値として許可するものを列挙し、この中から選択させるようにする。\u003C\u002Ftd\u003E",d,c,"\u003Ctd\u003E\u003Ci class=\"conum\" data-value=\"6\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E6\u003C\u002Fb\u003E\u003C\u002Ftd\u003E","\u003Ctd\u003Eこのスキーマがとりうる値の例を記述。\u003C\u002Ftd\u003E",d,k,a,g,h,"\u003Cdiv class=\"title\"\u003E上記 Json Schema を適用したJSONデータの例\u003C\u002Fdiv\u003E",i,l,r,"  \"$schema\": \".\u002Fmyschema.json\",","  \"basic\": {","    \"registry\": \"USA\",","    \"name\": \"ジョンストン\",","    \"class\": \"フレッチャー級\",","    \"series_number\": 119,","    \"type\": \"駆逐艦\",","    \"launched\": \"1943-03-25\"",K,"  \"spec\": {","    \"displacement\": 2700,","    \"length\": 114.76,","    \"power\": 60000,","    \"speed\": 35.0",N,s,j,a,a,a,"\u003Cdiv class=\"sect2\"\u003E","\u003Ch3 id=\"_json_schema_書き方_tips\"\u003E\u003Cem\u003EJson Schema\u003C\u002Fem\u003E 書き方 Tips\u003C\u002Fh3\u003E",f,"\u003Cp\u003E\u003Cem\u003EJson Schema\u003C\u002Fem\u003E を書く上でのちょっとしたメモ。\u003C\u002Fp\u003E",a,t,"\u003Ch4 id=\"_declare-schema\"\u003E\u003Cem\u003EJson Schema\u003C\u002Fem\u003E の宣言\u003C\u002Fh4\u003E",f,"\u003Cp\u003E\u003Ccode\u003E$schema\u003C\u002Fcode\u003E キーワードで \u003Cem\u003EJson Schema\u003C\u002Fem\u003E およびそのバージョンを宣言する。\u003Cbr\u003E","JSONデータのルートで定義する必要がある。\u003C\u002Fp\u003E",a,q,"\u003Cdiv class=\"title\"\u003EExample 2. バージョン Draft 7 を宣言\u003C\u002Fdiv\u003E",o,g,h,y,i,l,T,j,a,a,a,a,t,"\u003Ch4 id=\"_ref_キーワードによる他スキーマ参照\"\u003E\u003Ca href=\"https:\u002F\u002Fjson-schema.org\u002Funderstanding-json-schema\u002Fstructuring.html#ref\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ccode\u003E$ref\u003C\u002Fcode\u003E キーワード\u003C\u002Fa\u003Eによる他スキーマ参照\u003C\u002Fh4\u003E",f,"\u003Cp\u003E\u003Ccode\u003E$ref\u003C\u002Fcode\u003E キーワードを使って他のスキーマを参照することができる。\u003Cbr\u003E","これにより、同じ設定を流用できたり深いネストになってしまうことを避けられる。\u003C\u002Fp\u003E",a,f,"\u003Cp\u003E\u003Ccode\u003E$ref\u003C\u002Fcode\u003E の値は \u003Cem\u003EBase URI\u003C\u002Fem\u003E からの \u003Cem\u003EURI\u003C\u002Fem\u003E 参照となる。\u003Cbr\u003E","ファイル内部のスキーマを参照する場合、ルートは \u003Ccode\u003E#\u003C\u002Fcode\u003E で表現され、プロパティごとに \u003Ccode\u003E\u002F\u003C\u002Fcode\u003E で区切る。\u003C\u002Fp\u003E",a,q,"\u003Cdiv class=\"title\"\u003EExample 3. $ref\u003C\u002Fdiv\u003E",o,g,h,y,i,l,r,J,U,"    \"color\": { \"$ref\": \"#\u002Fdefinitions\u002FSelectColor\" },",K,"  \"definitions\": {    \u003Ci class=\"conum\" data-value=\"1\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(1)\u003C\u002Fb\u003E","    \"SelectColor\": {","      \"type\": \"string\",","      \"enum\": [\"red\", \"blue\", \"yellow\"]",M,N,s,j,a,z,m,c,A,"\u003Ctd\u003E参照用のスキーマは \u003Ccode\u003Edefinitions\u003C\u002Fcode\u003E キーワードで定義する\u003Csup class=\"footnote\"\u003E[\u003Ca id=\"_footnoteref_2\" class=\"footnote\" href=\"#_footnotedef_2\" title=\"View footnote.\"\u003E2\u003C\u002Fa\u003E]\u003C\u002Fsup\u003E。\u003C\u002Ftd\u003E",d,k,a,a,a,a,t,"\u003Ch4 id=\"_プルダウンリストドロップダウンリスト的な使い方をしたい\"\u003Eプルダウンリスト（ドロップダウンリスト）的な使い方をしたい\u003C\u002Fh4\u003E",f,"\u003Cp\u003E複数の固定値の中から1つを選択させたい場合は、\u003Ca href=\"https:\u002F\u002Fjson-schema.org\u002Funderstanding-json-schema\u002Freference\u002Fgeneric.html#enumerated-values\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ccode\u003Eenum\u003C\u002Fcode\u003E キーワード\u003C\u002Fa\u003Eを利用する。\u003C\u002Fp\u003E",a,q,"\u003Cdiv class=\"title\"\u003EExample 4. 値を固定値から選ばせる\u003C\u002Fdiv\u003E",o,g,h,y,i,l,"    data-lang=\"json\"\u003E{ \"enum\": [\"yellow\", \"green\", \"blue\"] }\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E",j,a,a,a,P,m,c,B,Q,n,C,"正規表現で \u003Cem\u003Estring\u003C\u002Fem\u003E 値を制限したい場合は \u003Ca href=\"https:\u002F\u002Fjson-schema.org\u002Funderstanding-json-schema\u002Freference\u002Fstring.html#regular-expressions\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ccode\u003Epattern\u003C\u002Fcode\u003E キーワード\u003C\u002Fa\u003Eを利用する。",n,d,k,a,a,t,"\u003Ch4 id=\"_additional-properties\"\u003E任意のキーを許可したい\u003C\u002Fh4\u003E",f,"\u003Cp\u003E\u003Ccode\u003EadditionalProperties\u003C\u002Fcode\u003E キーワードを利用すればいい。\u003C\u002Fp\u003E",a,q,"\u003Cdiv class=\"title\"\u003EExample 5. 任意のキーを許可\u003C\u002Fdiv\u003E",o,g,h,"\u003Cdiv class=\"title\"\u003Eschema.json\u003C\u002Fdiv\u003E",i,l,r,J,"  \"additionalProperties\": { \"type\": \"string\" }  \u003Ci class=\"conum\" data-value=\"1\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(1)\u003C\u002Fb\u003E",s,j,a,z,m,c,A,"\u003Ctd\u003E任意キーの値について、スキーマを与える。\u003Cbr\u003E","スキーマではなく \u003Ccode\u003Etrue\u003C\u002Fcode\u003E を与えると任意の値をとる。\u003C\u002Ftd\u003E",d,k,a,g,h,y,i,l,"    data-lang=\"json\"\u003E{ \"example\": \"ok\" }\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E",j,a,a,a,P,m,c,B,Q,n,C,"一定の文字列パターンに従ったキーを許可したい場合は \u003Ccode\u003EpatternProperties\u003C\u002Fcode\u003E を利用する。",n,d,k,a,a,t,"\u003Ch4 id=\"_default_examples_example_の違いについて\"\u003Edefault, examples, example の違いについて\u003C\u002Fh4\u003E",ac,ad,"\u003Cdt class=\"hdlist1\"\u003Edefault\u003C\u002Fdt\u003E",u,"\u003Cp\u003Eデフォルト値を明示するために使われる。\u003Cbr\u003E","あくまでデフォルト値を明示するだけであり、ここで指定したからといって\u003Cstrong\u003E欠損値を埋める機能はない\u003C\u002Fstrong\u003E\u003Csup class=\"footnote\"\u003E[\u003Ca id=\"_footnoteref_3\" class=\"footnote\" href=\"#_footnotedef_3\" title=\"View footnote.\"\u003E3\u003C\u002Fa\u003E]\u003C\u002Fsup\u003E。\u003C\u002Fp\u003E",v,"\u003Cdt class=\"hdlist1\"\u003Eexamples\u003C\u002Fdt\u003E",u,"\u003Cp\u003Eスキーマに従ったJSONデータ値の例。\u003Cbr\u003E","利用者に向けた使い方の例示。\u003C\u002Fp\u003E",v,"\u003Cdt class=\"hdlist1\"\u003Eexample\u003C\u002Fdt\u003E",u,"\u003Cp\u003E\u003Cem\u003E\u003Cstrong\u003EOpen API\u003C\u002Fstrong\u003E\u003C\u002Fem\u003E で参照されるJSONデータ値の例。\u003Cbr\u003E","\u003Cem\u003EOpen API\u003C\u002Fem\u003E v3.0.x では \u003Ccode\u003Eexamples\u003C\u002Fcode\u003E キーが参照されないため、代わりにこちらを使う。\u003C\u002Fp\u003E",v,ae,a,a,t,"\u003Ch4 id=\"_スキーマの合成\"\u003E\u003Ca href=\"https:\u002F\u002Fjson-schema.org\u002Funderstanding-json-schema\u002Freference\u002Fcombining.html\" target=\"_blank\" rel=\"noopener\"\u003Eスキーマの合成\u003C\u002Fa\u003E\u003C\u002Fh4\u003E",ac,ad,"\u003Cdt class=\"hdlist1\"\u003EallOf\u003C\u002Fdt\u003E",u,"\u003Cp\u003Eすべてのサブスキーマに対して一致する必要がある（\u003Cem\u003EAND\u003C\u002Fem\u003E）。\u003C\u002Fp\u003E",v,"\u003Cdt class=\"hdlist1\"\u003EanyOf\u003C\u002Fdt\u003E",u,"\u003Cp\u003Eサブスキーマの内いずれかに一致する必要がある（\u003Cem\u003EOR\u003C\u002Fem\u003E）。\u003C\u002Fp\u003E",v,"\u003Cdt class=\"hdlist1\"\u003EoneOf\u003C\u002Fdt\u003E",u,"\u003Cp\u003Eサブスキーマの内ただ1つに一致する必要がある（\u003Cem\u003EXOR\u003C\u002Fem\u003E）。\u003C\u002Fp\u003E",v,"\u003Cdt class=\"hdlist1\"\u003Enot\u003C\u002Fdt\u003E",u,"\u003Cp\u003E与えられたスキーマに一致してはならない（\u003Cem\u003ENOT\u003C\u002Fem\u003E）。\u003C\u002Fp\u003E",v,ae,a,a,t,"\u003Ch4 id=\"_条件分岐\"\u003E\u003Ca href=\"https:\u002F\u002Fjson-schema.org\u002Funderstanding-json-schema\u002Freference\u002Fconditionals.html\" target=\"_blank\" rel=\"noopener\"\u003E条件分岐\u003C\u002Fa\u003E\u003C\u002Fh4\u003E",G,H,e,"\u003Cp\u003E依存するプロパティやスキーマを指定する \u003Ccode\u003EdependentRequired\u003C\u002Fcode\u003E, \u003Ccode\u003EdependentSchemas\u003C\u002Fcode\u003E キーワード\u003C\u002Fp\u003E",b,e,"\u003Cp\u003EIf-Then-Else 構文の \u003Ccode\u003Eif\u003C\u002Fcode\u003E, \u003Ccode\u003Ethen\u003C\u002Fcode\u003E, \u003Ccode\u003Eelse\u003C\u002Fcode\u003E キーワード\u003C\u002Fp\u003E",b,p,a,f,"\u003Cp\u003Eが使える。\u003C\u002Fp\u003E",a,a,a,a,a,w,"\u003Ch2 id=\"_openapi_を_json_schema_ドキュメント代わりに利用する\"\u003E📚\u003Cem\u003EOpenAPI\u003C\u002Fem\u003E を \u003Cem\u003EJson Schema\u003C\u002Fem\u003E ドキュメント代わりに利用する\u003C\u002Fh2\u003E",x,f,"\u003Cp\u003E\u003Cem\u003EJson Schema\u003C\u002Fem\u003E をドキュメント化するツールはいくつかあるが、それぞれ \u003Cem\u003Eruby\u003C\u002Fem\u003E だったり \u003Cem\u003Enode.js\u003C\u002Fem\u003E だったりの環境構築する必要があるので面倒くさい。\u003C\u002Fp\u003E",a,f,"\u003Cp\u003Eなので今回は \u003Cem\u003ERESTful API\u003C\u002Fem\u003E のドキュメントとして広く使われる \u003Cem\u003EOpenAPI\u003C\u002Fem\u003E ドキュメントを作成し、その中の一部として \u003Cem\u003EJson Schema\u003C\u002Fem\u003E を取り込ませる方法をとる。\u003Cbr\u003E","\u003Cem\u003EOpenAPI\u003C\u002Fem\u003E エディター兼ビューワーとしては、\u003Cem\u003EVS Code\u003C\u002Fem\u003E の拡張機能 \u003Ca href=\"https:\u002F\u002Fmarketplace.visualstudio.com\u002Fitems?itemName=42Crunch.vscode-openapi\" target=\"_blank\" rel=\"noopener\"\u003EOpenAPI (Swagger) Editor\u003C\u002Fa\u003E を使用した。\u003C\u002Fp\u003E",a,q,"\u003Cdiv class=\"title\"\u003EExample 6. OpenAPI で Json Schema ファイルを参照\u003C\u002Fdiv\u003E",o,I,"\u003Cdiv class=\"title\"\u003EOpenAPI ドキュメントの作成手順\u003C\u002Fdiv\u003E",D,e,"\u003Cp\u003E\u003Cem\u003EVS Code\u003C\u002Fem\u003E 拡張機能 \u003Ca href=\"https:\u002F\u002Fmarketplace.visualstudio.com\u002Fitems?itemName=42Crunch.vscode-openapi\" target=\"_blank\" rel=\"noopener\"\u003EOpenAPI (Swagger) Editor\u003C\u002Fa\u003E をインストール。\u003C\u002Fp\u003E",b,e,"\u003Cp\u003Eコマンドパレットから \u003Cem\u003ECreate new openapi v3.0 file\u003C\u002Fem\u003E をクリック。\u003Cbr\u003E","\u003Cem\u003EJSON\u003C\u002Fem\u003E または \u003Cem\u003EYAML\u003C\u002Fem\u003E 形式で新規作成される。\u003C\u002Fp\u003E",b,e,"\u003Cp\u003E\u003Ccode\u003Econtent\u003C\u002Fcode\u003E 以下を追記し、作成した \u003Cem\u003EJson Schema\u003C\u002Fem\u003E を参照させる。\u003C\u002Fp\u003E",b,e,"\u003Cp\u003Eあとは \u003Ccode\u003EShift + Alt + P\u003C\u002Fcode\u003E ショートカットキーで \u003Cem\u003EOpenAPI\u003C\u002Fem\u003E プレビューが描画される。\u003C\u002Fp\u003E",b,E,a,g,h,"\u003Cdiv class=\"title\"\u003Eapi.yml\u003C\u002Fdiv\u003E",i,"  \u003Cpre class=\"highlight \" \u003E\u003Ccode class=\"language-yaml\"","    data-lang=\"yaml\"\u003Eopenapi: \"3.0.2\"","info:","  title: API Title","  version: \"1.0\"","servers:","  - url: https:\u002F\u002Fapi.server.test\u002Fv1","paths:","  \u002Ftest:","    get:","      responses:","        \"200\":","          description: OK","          content:  \u003Ci class=\"conum\" data-value=\"1\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(1)\u003C\u002Fb\u003E","            application\u002Fjson:","              schema:","                $ref: \"myschema.json\"   \u003Ci class=\"conum\" data-value=\"2\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(2)\u003C\u002Fb\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E",j,a,z,m,c,A,"\u003Ctd\u003Eこの \u003Ccode\u003Econtent\u003C\u002Fcode\u003E 以下を追加。\u003C\u002Ftd\u003E",d,c,O,"\u003Ctd\u003E\u003Cem\u003EJson Schema\u003C\u002Fem\u003E ファイルを指定する。\u003C\u002Ftd\u003E",d,k,a,"\u003Cdetails\u003E","\u003Csummary class=\"title\"\u003E上記のプレビュー例\u003C\u002Fsummary\u003E",o,"\u003Cdiv class=\"imageblock\"\u003E",o,"\u003Cimg src=\"_images\u002Fopenapi\u002Fopenapi_sample_preview.png\" alt=\"api.yml のプレビュー例\"\u003E",a,a,a,"\u003C\u002Fdetails\u003E",a,a,P,m,c,B,Q,n,C,"\u003Cdiv class=\"title\"\u003EOpenAPI プレビュー表示\u003C\u002Fdiv\u003E",f,"\u003Cp\u003E\u003Cem\u003EOpenAPI (Swagger) Editor\u003C\u002Fem\u003E のプレビュー描画エンジンを \u003Cem\u003Eredoc\u003C\u002Fem\u003E に変更しておいたほうがスキーマを確認しやすい。\u003C\u002Fp\u003E",a,g,h,"\u003Cdiv class=\"title\"\u003Esettings.json\u003C\u002Fdiv\u003E",i,l,r,"  \"openapi.defaultPreviewRenderer\": \"redoc\"",s,j,a,n,d,k,a,a,a,w,"\u003Ch2 id=\"_json_schema_を有効化して_json_データを作成\"\u003E📈\u003Cem\u003EJson Schema\u003C\u002Fem\u003E を有効化して \u003Cem\u003EJSON\u003C\u002Fem\u003E データを作成\u003C\u002Fh2\u003E",x,"\u003Cdiv class=\"admonitionblock important\"\u003E",m,c,B,"\u003Ci class=\"fa icon-important\" title=\"Important\" data-md-icon=\"report\"\u003E\u003C\u002Fi\u003E",n,C,"VS Code 上で利用することを前提。",n,d,k,a,f,"\u003Cp\u003E\u003Cem\u003EVS Code\u003C\u002Fem\u003E でインテリセンスを有効化するには、\u003C\u002Fp\u003E",a,I,D,e,"\u003Cp\u003E🌟 \u003Cem\u003EJSON\u003C\u002Fem\u003E ファイルにて \u003Ccode\u003E$schema\u003C\u002Fcode\u003E キーワードの値に \u003Cem\u003EJson Schema\u003C\u002Fem\u003E ファイルを指定する。\u003C\u002Fp\u003E",b,e,"\u003Cp\u003E\u003Ccode\u003Esettings.json\u003C\u002Fcode\u003E で適用する \u003Cem\u003EJson Schema\u003C\u002Fem\u003E とファイルパターンを指定する。\u003C\u002Fp\u003E",b,E,a,f,"\u003Cp\u003Eの２通り。\u003C\u002Fp\u003E",a,f,"\u003Cp\u003Eあとは有効化されたインテリセンスをばんばん使って \u003Cem\u003EJSON\u003C\u002Fem\u003E を書けばいい。\u003C\u002Fp\u003E",a,q,"\u003Cdiv class=\"title\"\u003EExample 7. VS Code で特定の Json Schema を有効化する設定\u003C\u002Fdiv\u003E",o,g,h,"\u003Cdiv class=\"title\"\u003Edata.json\u003C\u002Fdiv\u003E",i,l,r,"  \"$schema\": \".\u002Fmyschema\u002Fschema.json\",","  ...",s,j,a,f,"\u003Cp\u003Eまたは\u003C\u002Fp\u003E",a,g,h,"\u003Cdiv class=\"title\"\u003E.vscode\u002Fsettings.json\u003C\u002Fdiv\u003E",i,l,r,"  \"json.schemas\": [","    {","      \"fileMatch\": [\"\u002F*.my.json\"],      \u003Ci class=\"conum\" data-value=\"1\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(1)\u003C\u002Fb\u003E","      \"url\": \".\u002Fmyschema\u002Fschema.json\"   \u003Ci class=\"conum\" data-value=\"2\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(2)\u003C\u002Fb\u003E",M,"  ]",s,j,a,z,m,c,A,"\u003Ctd\u003Eスキーマを適用するファイルパスのパターンを指定。\u003Cbr\u003E","ワイルドカード（\u003Ccode\u003E*\u003C\u002Fcode\u003E）や否定演算子（\u003Ccode\u003E!\u003C\u002Fcode\u003E）も利用できる。\u003C\u002Ftd\u003E",d,c,O,"\u003Ctd\u003E使用する \u003Cem\u003EJson Schema\u003C\u002Fem\u003E の \u003Cem\u003EURI\u003C\u002Fem\u003E を指定。\u003Cbr\u003E","ローカルファイルを相対参照する場合、カレントディレクトリ（\u003Ccode\u003E.\u003C\u002Fcode\u003E）を指定しないとうまく解釈してくれない。\u003C\u002Ftd\u003E",d,k,a,a,a,a,a,w,"\u003Ch2 id=\"_補足_json_schema_書くのしんどい\"\u003E😫補足： \u003Cem\u003EJson Schema\u003C\u002Fem\u003E 書くのしんどい\u003C\u002Fh2\u003E",x,f,"\u003Cp\u003Eすでに \u003Cem\u003EJSON\u003C\u002Fem\u003E データがある場合は \u003Ca href=\"https:\u002F\u002Fquicktype.io\" target=\"_blank\" rel=\"noopener\"\u003Equicktype\u003C\u002Fa\u003E を使うと楽ができる。\u003Cbr\u003E","\u003Cem\u003Equicktype\u003C\u002Fem\u003E は \u003Cem\u003EJSON\u003C\u002Fem\u003E データから \u003Cem\u003EJson Schema\u003C\u002Fem\u003E を生成\u003Csup class=\"footnote\"\u003E[\u003Ca id=\"_footnoteref_4\" class=\"footnote\" href=\"#_footnotedef_4\" title=\"View footnote.\"\u003E4\u003C\u002Fa\u003E]\u003C\u002Fsup\u003Eしてくれるツール。\u003C\u002Fp\u003E",a,"\u003Cdiv class=\"admonitionblock note\"\u003E",m,c,B,"\u003Ci class=\"fa icon-note\" title=\"Note\" data-md-icon=\"info\"\u003E\u003C\u002Fi\u003E",n,C,"\u003Cem\u003Equicktype\u003C\u002Fem\u003E は\u003Ca href=\"https:\u002F\u002Fapp.quicktype.io\u002F\" target=\"_blank\" rel=\"noopener\"\u003Eオンラインツール\u003C\u002Fa\u003Eとしても提供されており、簡単に試せる。",n,d,k,a,a,a,w,"\u003Ch2 id=\"_参考\"\u003E📖参考\u003C\u002Fh2\u003E",x,G,"\u003Cdiv class=\"title\"\u003EJson Schema\u003C\u002Fdiv\u003E",H,e,"\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fjson-schema.org\u002Funderstanding-json-schema\u002Freference\u002Fschema.html\" target=\"_blank\" rel=\"noopener\"\u003EDeclaring a Dialect — Understanding JSON Schema 2020-12 documentation\u003C\u002Fa\u003E\u003C\u002Fp\u003E",b,e,"\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fjson-schema.org\u002Funderstanding-json-schema\u002Freference\u002Findex.html\" target=\"_blank\" rel=\"noopener\"\u003EJSON Schema Reference — Understanding JSON Schema 2020-12 documentation\u003C\u002Fa\u003E\u003C\u002Fp\u003E",b,e,"\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fjson-schema.org\u002Funderstanding-json-schema\u002Freference\u002Fcombining.html\" target=\"_blank\" rel=\"noopener\"\u003ESchema Composition — Understanding JSON Schema 2020-12 documentation\u003C\u002Fa\u003E\u003C\u002Fp\u003E",b,e,"\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fjson-schema.org\u002Funderstanding-json-schema\u002Freference\u002Fgeneric.html\" target=\"_blank\" rel=\"noopener\"\u003EGeneric keywords — Understanding JSON Schema 2020-12 documentation\u003C\u002Fa\u003E\u003C\u002Fp\u003E",b,p,a,G,"\u003Cdiv class=\"title\"\u003EOpen API\u003C\u002Fdiv\u003E",H,e,"\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fswagger.io\u002Fspecification\u002F\" target=\"_blank\" rel=\"noopener\"\u003EOpenAPI Specification - Version 3.0.3 | Swagger\u003C\u002Fa\u003E\u003C\u002Fp\u003E",b,e,"\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fswagger.io\u002Fdocs\u002Fspecification\u002Fusing-ref\u002F\" target=\"_blank\" rel=\"noopener\"\u003EUsing $ref\u003C\u002Fa\u003E\u003C\u002Fp\u003E",b,p,a,G,"\u003Cdiv class=\"title\"\u003EVS Code\u003C\u002Fdiv\u003E",H,e,"\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcode.visualstudio.com\u002Fdocs\u002Flanguages\u002Fjson\" target=\"_blank\" rel=\"noopener\"\u003EJSON editing in Visual Studio Code\u003C\u002Fa\u003E\u003C\u002Fp\u003E",b,p,a,a,a,"\u003Cdiv id=\"footnotes\"\u003E","\u003Chr\u003E","\u003Cdiv class=\"footnote\" id=\"_footnotedef_1\"\u003E","\u003Ca href=\"#_footnoteref_1\"\u003E1\u003C\u002Fa\u003E. \u003Cem\u003EYAML\u003C\u002Fem\u003E ファイルでスキーマを作成し、\u003Ca href=\"https:\u002F\u002Fmikefarah.gitbook.io\u002Fyq\u002F\" target=\"_blank\" rel=\"noopener\"\u003E\u003Ccode\u003Eyq\u003C\u002Fcode\u003E ツール\u003C\u002Fa\u003Eを使って \u003Ccode\u003E.json\u003C\u002Fcode\u003E ファイルに変換する、という方法もある。",a,"\u003Cdiv class=\"footnote\" id=\"_footnotedef_2\"\u003E","\u003Ca href=\"#_footnoteref_2\"\u003E2\u003C\u002Fa\u003E. \u003Cem\u003EDraft 2019-09\u003C\u002Fem\u003E 以降は \u003Ccode\u003E$def\u003C\u002Fcode\u003E キーワードに変更されたらしい。",a,"\u003Cdiv class=\"footnote\" id=\"_footnotedef_3\"\u003E","\u003Ca href=\"#_footnoteref_3\"\u003E3\u003C\u002Fa\u003E. \u003Cem\u003EJson Schema\u003C\u002Fem\u003E はJSONデータの仕様を定めるだけなので当然。欠損値を埋める処理は、JSONデータを受け取ったシステム側で実装されるべき。",a,"\u003Cdiv class=\"footnote\" id=\"_footnotedef_4\"\u003E","\u003Ca href=\"#_footnoteref_4\"\u003E4\u003C\u002Fa\u003E. 他に \u003Cem\u003ETypeScript\u003C\u002Fem\u003E や \u003Cem\u003EGo\u003C\u002Fem\u003E 言語のコードへの変換も可能。",a,a],title:"VS Code で Json Schema を作って使う",created_at:af,tags:["json","json-schema","openapi","vscode"],updated_at:af,author:"秋々すすき",description:R,revision:"1.0",revision_remark:R},navi:{next:{path:"\u002Fposts\u002Fopenapi_document_rapidoc",title:"RapiDoc を使って OpenAPI をドキュメント化する"},prev:{path:"\u002Fposts\u002Fcli_yt-dlp",title:"動画ダウンロードツール youtube-dl のフォークである yt-dlp を使ってみる"}},currentPath:"https:\u002F\u002Fvlike-vlife.netlify.app\u002Fposts\u002Fjson_schema_on_vscode"}],fetch:{},mutations:R}}("\u003C\u002Fdiv\u003E","\u003C\u002Fli\u003E","\u003Ctr\u003E","\u003C\u002Ftr\u003E","\u003Cli\u003E","\u003Cdiv class=\"paragraph\"\u003E","\u003Cdiv ","    class=\"listingblock\"\u003E","  \u003Cdiv class=\"content\"\u003E","  \u003C\u002Fdiv\u003E","\u003C\u002Ftable\u003E","  \u003Cpre class=\"highlight \" \u003E\u003Ccode class=\"language-json\"","\u003Ctable\u003E","\u003C\u002Ftd\u003E","\u003Cdiv class=\"content\"\u003E","\u003C\u002Ful\u003E","\u003Cdiv class=\"exampleblock\"\u003E","    data-lang=\"json\"\u003E{","}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E","\u003Cdiv class=\"sect3\"\u003E","\u003Cdd\u003E","\u003C\u002Fdd\u003E","\u003Cdiv class=\"sect1\"\u003E","\u003Cdiv class=\"sectionbody\"\u003E","","\u003Cdiv class=\"colist arabic\"\u003E","\u003Ctd\u003E\u003Ci class=\"conum\" data-value=\"1\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E1\u003C\u002Fb\u003E\u003C\u002Ftd\u003E","\u003Ctd class=\"icon\"\u003E","\u003Ctd class=\"content\"\u003E","\u003Col class=\"arabic\"\u003E","\u003C\u002Fol\u003E","        },","\u003Cdiv class=\"ulist\"\u003E","\u003Cul\u003E","\u003Cdiv class=\"olist arabic\"\u003E","  \"type\": \"object\",","  },","        }","    }","  }","\u003Ctd\u003E\u003Ci class=\"conum\" data-value=\"2\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E2\u003C\u002Fb\u003E\u003C\u002Ftd\u003E","\u003Cdiv class=\"admonitionblock tip\"\u003E","\u003Ci class=\"fa icon-tip\" title=\"Tip\" data-md-icon=\"emoji_objects\"\u003E\u003C\u002Fi\u003E",void 0,"\u003Ccol\u003E","    data-lang=\"json\"\u003E{ \"$schema\": \"http:\u002F\u002Fjson-schema.org\u002Fdraft-07\u002Fschema#\" }\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E","  \"properties\": {","      \"type\": \"object\",","      \"properties\": {","      },","      \"examples\": [   \u003Ci class=\"conum\" data-value=\"6\"\u003E\u003C\u002Fi\u003E\u003Cb\u003E(6)\u003C\u002Fb\u003E","        {","      ]","          \"type\": \"integer\",","          \"minimum\": 1","          \"type\": \"number\",","\u003Cdiv class=\"dlist\"\u003E","\u003Cdl\u003E","\u003C\u002Fdl\u003E","2022-01-26")));