<!doctype html>
<html data-n-head-ssr lang="ja" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22ja%22%7D%7D">

<head>
  <title>podman ã§ docker-compose ã®ä»£ã‚ã‚Šã« Kubernetes YAML ã‚’ä½¿ã£ã¦ã¿ãŸ - VãŒã„ã‚‹æ—¥ã€…</title>
  <meta data-n-head="ssr" charset="utf-8">
  <meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1">
  <meta data-n-head="ssr" data-hid="description" name="description" content="Generate a static site with Nuxt.js">
  <meta data-n-head="ssr" data-hid="keywords" name="keywords" content="podman,kubernetes">
  <base href="/">
  <link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico">
  <link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link data-n-head="ssr" rel="alternate" type="application/atom+xml" href="/feeds/atom.xml" title="Atom 1.0">
  <link rel="preload" href="/_nuxt/0e5221e.js" as="script">
  <link rel="preload" href="/_nuxt/8f5170d.js" as="script">
  <link rel="preload" href="/_nuxt/css/0f5c967.css" as="style">
  <link rel="preload" href="/_nuxt/4fde5eb.js" as="script">
  <link rel="preload" href="/_nuxt/css/9f3c58f.css" as="style">
  <link rel="preload" href="/_nuxt/61ba754.js" as="script">
  <link rel="preload" href="/_nuxt/css/87938c0.css" as="style">
  <link rel="preload" href="/_nuxt/cf45fea.js" as="script">
  <link rel="preload" href="/_nuxt/css/63ee372.css" as="style">
  <link rel="preload" href="/_nuxt/73d1167.js" as="script">
  <link rel="stylesheet" href="/_nuxt/css/0f5c967.css">
  <link rel="stylesheet" href="/_nuxt/css/9f3c58f.css">
  <link rel="stylesheet" href="/_nuxt/css/87938c0.css">
  <link rel="stylesheet" href="/_nuxt/css/63ee372.css">
  <link rel="preload" href="/_nuxt/static/2023013021/posts/podman_kubernetes_yaml/state.js" as="script">
  <link rel="preload" href="/_nuxt/static/2023013021/posts/podman_kubernetes_yaml/payload.js" as="script">
  <link rel="preload" href="/_nuxt/static/2023013021/manifest.js" as="script">
</head>

<body>
  <div data-server-rendered="true" id="__nuxt"><!---->
    <div id="__layout">
      <div class="min-h-screen flex flex-col items-center mx-auto bg-background">
        <header class="mdc-top-app-bar relative" data-v-357cda0d>
          <div class="mdc-top-app-bar__row" data-v-357cda0d>
            <div class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start" data-v-357cda0d><a href="/" class="mdc-top-app-bar__title nuxt-link-active" data-v-357cda0d>VãŒã„ã‚‹æ—¥ã€…</a></div>
            <nav class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" data-v-357cda0d>
              <ul class="flex" data-v-357cda0d>
                <li data-v-357cda0d><a href="/" class="mdc-top-app-bar__action-item p-2 rounded-t hover:bg-grey-500 hover:bg-opacity-15" data-v-357cda0d>Home</a></li>
                <li class="ml-2" data-v-357cda0d><a href="/license" class="mdc-top-app-bar__action-item p-2 rounded-t hover:bg-grey-500 hover:bg-opacity-15" data-v-357cda0d>License</a></li>
              </ul>
              <ul class="flex ml-4" data-v-357cda0d>
                <li class="flex items-center" data-v-357cda0d><a href="https://twitter.com/akiakiS101" target="_blank" class="material-icons mdc-top-app-bar__action-item mdc-icon-button" data-v-357cda0d><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current" data-v-357cda0d data-v-49dc8ae1>
                      <title data-v-4b4cfb63>Twitter account</title>
                      <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z" data-v-4b4cfb63></path>
                    </svg></a></li>
                <li class="flex items-center" data-v-357cda0d><a href="https://github.com/akiakishitai/vlife-blog" target="_blank" class="material-icons mdc-top-app-bar__action-item mdc-icon-button" data-v-357cda0d><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current" data-v-357cda0d data-v-f1b30468>
                      <title data-v-4b4cfb63>Github source</title>
                      <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" data-v-4b4cfb63></path>
                    </svg></a></li>
              </ul>
            </nav>
          </div>
        </header>
        <main class="container flex-grow text-black text-opacity-87 px-4">
          <div class="pb-6 mt-6" data-v-346bb96f>
            <h1 class="text-4xl font-light">podman ã§ docker-compose ã®ä»£ã‚ã‚Šã« Kubernetes YAML ã‚’ä½¿ã£ã¦ã¿ãŸ</h1>
            <div class="mt-4">
              <div role="table" class="mdc-chip-set" data-v-78553c6c><a href="/search?tags=podman">
                  <div role="row" class="mdc-chip" data-v-78553c6c>
                    <div class="mdc-chip__ripple" data-v-1a8ed682></div> <i role="cell" class="material-icons mdc-chip__icon mdc-chip__icon--leading" data-v-1a8ed682>local_offer</i> <span role="cell" data-v-1a8ed682><span role="button" tabindex="0" class="mdc-chip__primary-action" data-v-1a8ed682><span class="mdc-chip__text" data-v-1a8ed682>podman</span></span></span>
                  </div>
                </a><a href="/search?tags=kubernetes">
                  <div role="row" class="mdc-chip" data-v-78553c6c>
                    <div class="mdc-chip__ripple" data-v-1a8ed682></div> <i role="cell" class="material-icons mdc-chip__icon mdc-chip__icon--leading" data-v-1a8ed682>local_offer</i> <span role="cell" data-v-1a8ed682><span role="button" tabindex="0" class="mdc-chip__primary-action" data-v-1a8ed682><span class="mdc-chip__text" data-v-1a8ed682>kubernetes</span></span></span>
                  </div>
                </a></div>
              <div class="flex justify-end">
                <div class="flex items-center"><span class="material-icons text-xl opacity-87">create</span>
                  <div class="pl-1">2021å¹´09æœˆ17æ—¥</div>
                </div>
                <div class="flex items-center ml-2"><span class="material-icons text-xl opacity-87">update</span>
                  <div class="pl-1">2021å¹´09æœˆ28æ—¥</div>
                </div>
              </div>
            </div>
            <hr class="mt-2 border-grey-500"> <!---->
            <div class="mt-6">
              <div class="post-body line-numbers">
                <div id="toc" class="toc">
                  <div id="toctitle">ç›®æ¬¡</div>
                  <ul class="sectlevel1">
                    <li><a href="/posts/podman_kubernetes_yaml#_ã¯ã˜ã‚ã«">ã¯ã˜ã‚ã«</a></li>
                    <li><a href="/posts/podman_kubernetes_yaml#_æ¦‚ç•¥">æ¦‚ç•¥</a></li>
                    <li><a href="/posts/podman_kubernetes_yaml#_podman_ã«ã‚ˆã‚‹_kubernetes_yaml_åˆ©ç”¨ã®æ‰‹é †"><code>podman</code> ã«ã‚ˆã‚‹ <em>Kubernetes YAML</em> åˆ©ç”¨ã®æ‰‹é †</a>
                      <ul class="sectlevel2">
                        <li><a href="/posts/podman_kubernetes_yaml#_ã‚³ãƒãƒ³ãƒ‰ã§_pod_ã‚’ä½œæˆ">ã‚³ãƒãƒ³ãƒ‰ã§ <em>Pod</em> ã‚’ä½œæˆ</a></li>
                        <li><a href="/posts/podman_kubernetes_yaml#_kubernetes_yaml_ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ"><em>Kubernetes YAML</em> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ</a></li>
                        <li><a href="/posts/podman_kubernetes_yaml#_kubernetes_yaml_ã‹ã‚‰_pod_èµ·å‹•"><em>Kubernetes YAML</em> ã‹ã‚‰ <em>Pod</em> èµ·å‹•</a></li>
                      </ul>
                    </li>
                    <li><a href="/posts/podman_kubernetes_yaml#_kubernetes_yaml_ã«ã¤ã„ã¦ã®è£œè¶³"><em>Kubernetes YAML</em> ã«ã¤ã„ã¦ã®è£œè¶³</a>
                      <ul class="sectlevel2">
                        <li><a href="/posts/podman_kubernetes_yaml#_æ›¸å¼ã‚µãƒ³ãƒ—ãƒ«">æ›¸å¼ã‚µãƒ³ãƒ—ãƒ«</a>
                          <ul class="sectlevel3">
                            <li><a href="/posts/podman_kubernetes_yaml#_ãƒ©ãƒ™ãƒ«ã¨ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³">ãƒ©ãƒ™ãƒ«ã¨ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³</a></li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li><a href="/posts/podman_kubernetes_yaml#_ç”Ÿæˆã•ã‚ŒãŸ_kubernetes_yaml_ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£">ç”Ÿæˆã•ã‚ŒãŸ <em>Kubernetes YAML</em> ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£</a>
                      <ul class="sectlevel2">
                        <li><a href="/posts/podman_kubernetes_yaml#_ä¸è¦ãªç’°å¢ƒå¤‰æ•°ã®å‰Šé™¤">ä¸è¦ãªç’°å¢ƒå¤‰æ•°ã®å‰Šé™¤</a></li>
                        <li><a href="/posts/podman_kubernetes_yaml#_åå‰ä»˜ã_volume_ã‚’åˆ©ç”¨ã—ãŸã„">åå‰ä»˜ã <em>Volume</em> ã‚’åˆ©ç”¨ã—ãŸã„</a></li>
                        <li><a href="/posts/podman_kubernetes_yaml#_åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã§å€¤ã‚’å®šç¾©ã—ãŸã„">åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã§å€¤ã‚’å®šç¾©ã—ãŸã„</a></li>
                      </ul>
                    </li>
                    <li><a href="/posts/podman_kubernetes_yaml#_ãŠã‚ã‚Šã«">ãŠã‚ã‚Šã«</a></li>
                    <li><a href="/posts/podman_kubernetes_yaml#_å‚è€ƒ">å‚è€ƒ</a></li>
                  </ul>
                </div>
                <div class="sect1">
                  <h2 id="_ã¯ã˜ã‚ã«">ã¯ã˜ã‚ã«</h2>
                  <div class="sectionbody">
                    <div class="paragraph">
                      <p><em>Podman</em> ã¯ <em>Docker Compose</em> ã®ä»£ã‚ã‚Šã« <em>Kubernetes YAML</em> ã‚’ä½¿ã†ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã‚‹ã¿ãŸã„ã€‚<br> ãã“ã§ <em>Kubernetes YAML</em> ã‹ã‚‰èµ·å‹•ã™ã‚‹ã“ã¨ã‚’è©¦ã—ã¦ã¿ãŸã€‚</p>
                    </div>
                    <div class="admonitionblock important">
                      <table>
                        <tr>
                          <td class="icon">
                            <i class="fa icon-important" title="Important" data-md-icon="report"></i>
                          </td>
                          <td class="content">
                            <div class="title">è¿½è¨˜</div>
                            <div class="paragraph">
                              <p><em>Podman v3</em> ã§ã¯ï¼ˆãƒ«ãƒ¼ãƒˆãƒ¬ã‚¹ã®å ´åˆã¯ <em>v3.2.3</em> ä»¥é™ã‹ã‚‰ï¼‰ <em>docker-compose</em> ã«å…¬å¼å¯¾å¿œã—ã¦ã‚‹ã¿ãŸã„ã€‚<br> ã‚ˆã£ã¦ <em>docker-compose.yml</em> ãŒã™ã§ã«æœ‰ã‚‹ãªã‚‰ã€æœ¬è¨˜äº‹ã®ã‚ˆã†ã« <em>Kubernetes YAML</em> ã¸ã®å¤‰æ›ã¯å¿…è¦ãªã•ãã†ã€‚</p>
                            </div>
                            <div class="paragraph">
                              <p>ğŸ‘‰<a href="https://rheb.hatenablog.com/entry/podman3-rootless-docker-compose" target="_blank" rel="noopener">ã€Podman v3ã€‘ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ã§docker-composeã‚’å®Ÿè¡Œã™ã‚‹ - èµ¤å¸½ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒ–ãƒ­ã‚°</a></p>
                            </div>
                          </td>
                        </tr>
                      </table>
                    </div>
                    <table class="tableblock frame-all grid-all fit-content">
                      <caption class="title">Table 1. ç’°å¢ƒ</caption>
                      <colgroup>
                        <col>
                        <col>
                      </colgroup>
                      <thead>
                        <tr>
                          <th class="tableblock halign-left valign-top">App</th>
                          <th class="tableblock halign-left valign-top">Version</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="tableblock halign-left valign-top">
                            <p class="tableblock">podman</p>
                          </td>
                          <td class="tableblock halign-left valign-top">
                            <p class="tableblock">3.0.1</p>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="sect1">
                  <h2 id="_æ¦‚ç•¥">æ¦‚ç•¥</h2>
                  <div class="sectionbody">
                    <div class="paragraph">
                      <p><code>podman</code> ã‚³ãƒãƒ³ãƒ‰ã§èµ·å‹•ä¸­ã® <em>Pod</em> ã‹ã‚‰ <em>Kubernetes YAML</em> ã‚’ç”Ÿæˆã§ãã‚‹ãŸã‚ã€ãã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã€‚</p>
                    </div>
                    <div class="olist arabic">
                      <ol class="arabic">
                        <li>
                          <p>é€šå¸¸é€šã‚Š <code>podman</code> ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰ <em>Pod</em> ã‚’ä½œæˆã€‚</p>
                        </li>
                        <li>
                          <p>ä½œæˆã—ãŸ <em>Pod</em> ã‹ã‚‰ <em>Kubernetes YAML</em> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã€‚</p>
                          <div class="ulist">
                            <ul>
                              <li>
                                <p>ã“ã® <em>Kubernetes YAML</em> ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚</p>
                              </li>
                            </ul>
                          </div>
                        </li>
                        <li>
                          <p><em>Kubernetes YAML</em> ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ <em>Pod</em> ã‚’èµ·å‹•ã€‚</p>
                        </li>
                      </ol>
                    </div>
                    <div class="imageblock kroki">
                      <div class="content">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="451px" preserveAspectRatio="none" style="width:271px;height:451px;background:#fff" version="1.1" viewBox="0 0 271 451" width="271px" zoomAndPan="magnify">
                          <defs />
                          <g>
                            <rect fill="#FFFFFF" height="112.3984" style="stroke:#181818;stroke-width:1" width="10" x="230" y="112.4297" />
                            <rect fill="none" height="88.3984" style="stroke:#000;stroke-width:1.5" width="255.5" x="10" y="264.8281" />
                            <line style="stroke:#181818;stroke-width:.5;stroke-dasharray:5,5" x1="39" x2="39" y1="81.2969" y2="370.2266" />
                            <line style="stroke:#181818;stroke-width:.5;stroke-dasharray:5,5" x1="234.5" x2="234.5" y1="81.2969" y2="370.2266" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="20" y="77.9951">User</text>
                            <ellipse cx="39" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:.5" />
                            <path d="M39,21.5 L39,48.5 M26,29.5 L52,29.5 M39,48.5 L26,63.5 M39,48.5 L52,63.5 " fill="none" style="stroke:#181818;stroke-width:.5" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="20" y="382.2217">User</text>
                            <ellipse cx="39" cy="394.0234" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:.5" />
                            <path d="M39,402.0234 L39,429.0234 M26,410.0234 L52,410.0234 M39,429.0234 L26,444.0234 M39,429.0234 L52,444.0234 " fill="none" style="stroke:#181818;stroke-width:.5" />
                            <rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5" width="41" x="214.5" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="221.5" y="69.9951">Pod</text>
                            <rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5" width="41" x="214.5" y="369.2266" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="221.5" y="389.2217">Pod</text>
                            <rect fill="#FFFFFF" height="112.3984" style="stroke:#181818;stroke-width:1" width="10" x="230" y="112.4297" />
                            <polygon fill="#181818" points="218,108.4297,228,112.4297,218,116.4297,222,112.4297" style="stroke:#181818;stroke-width:1" />
                            <line style="stroke:#181818;stroke-width:1" x1="39" x2="224" y1="112.4297" y2="112.4297" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="46" y="107.3638">podman run</text>
                            <polygon fill="#181818" points="218,162.5625,228,166.5625,218,170.5625,222,166.5625" style="stroke:#181818;stroke-width:1" />
                            <line style="stroke:#181818;stroke-width:1" x1="39" x2="224" y1="166.5625" y2="166.5625" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="46" y="161.4966">podman generate kube</text>
                            <polygon fill="#181818" points="50,191.6953,40,195.6953,50,199.6953,46,195.6953" style="stroke:#181818;stroke-width:1" />
                            <line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2" x1="44" x2="229" y1="195.6953" y2="195.6953" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="56" y="190.6294">Kubernetes YAML ãƒ•ã‚¡ã‚¤ãƒ«</text>
                            <polygon fill="#181818" points="223,220.8281,233,224.8281,223,228.8281,227,224.8281" style="stroke:#181818;stroke-width:1" />
                            <line style="stroke:#181818;stroke-width:1" x1="39" x2="229" y1="224.8281" y2="224.8281" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="46" y="219.7622">podman rm</text>
                            <path d="M10,264.8281 L98,264.8281 L98,271.9609 L88,281.9609 L10,281.9609 L10,264.8281 " fill="#EEEEEE" style="stroke:#000;stroke-width:1.5" />
                            <rect fill="none" height="88.3984" style="stroke:#000;stroke-width:1.5" width="255.5" x="10" y="264.8281" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="38" x="25" y="277.895">while</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="109" x="113" y="277.0386">[æœŸå¾…é€šã‚Šã«ãªã‚‹ã¾ã§]</text>
                            <line style="stroke:#181818;stroke-width:1" x1="39" x2="81" y1="303.0938" y2="303.0938" />
                            <line style="stroke:#181818;stroke-width:1" x1="81" x2="81" y1="303.0938" y2="316.0938" />
                            <line style="stroke:#181818;stroke-width:1" x1="40" x2="81" y1="316.0938" y2="316.0938" />
                            <polygon fill="#181818" points="50,312.0938,40,316.0938,50,320.0938,46,316.0938" style="stroke:#181818;stroke-width:1" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="46" y="298.0278">YAML ãƒ•ã‚¡ã‚¤ãƒ«ä¿®æ­£</text>
                            <polygon fill="#181818" points="223,341.2266,233,345.2266,223,349.2266,227,345.2266" style="stroke:#181818;stroke-width:1" />
                            <line style="stroke:#181818;stroke-width:1" x1="39" x2="229" y1="345.2266" y2="345.2266" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="46" y="340.1606">podman play kube</text><!--SRC=[IqmkoIzI22rEBUBY0f4AkdOA0Vaf2jhQ2bOA1VafkObv2aMbULmrDJKeyd39zDIyrAB4abI5xDAaL8WI6rrTg1fle5XHNcf9Qh52fAElZyBZvgcFcnO-Rbhok7arTkEAShb0V5rTi8tfHVcb1Ghb6PavgGhHp-RCVxglzMN3hCTDNOyRLpzkNFMugVjnuxx7ZSjZkHGKOCQ1QIjC-vxiN_TixM8aXIZs5kGaLaAya9gN0W00]-->
                          </g>
                        </svg>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="sect1">
                  <h2 id="_podman_ã«ã‚ˆã‚‹_kubernetes_yaml_åˆ©ç”¨ã®æ‰‹é †"><code>podman</code> ã«ã‚ˆã‚‹ <em>Kubernetes YAML</em> åˆ©ç”¨ã®æ‰‹é †</h2>
                  <div class="sectionbody">
                    <div class="olist arabic">
                      <ol class="arabic">
                        <li>
                          <p>é€šå¸¸é€šã‚Š <code>podman</code> ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰ <em>Pod</em> ã‚’ä½œæˆã€‚</p>
                        </li>
                        <li>
                          <p>ä½œæˆã—ãŸ <em>Pod</em> ã‹ã‚‰ <em>Kubernetes YAML</em> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã€‚</p>
                          <div class="ulist">
                            <ul>
                              <li>
                                <p>ã“ã® <em>Kubernetes YAML</em> ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚</p>
                              </li>
                            </ul>
                          </div>
                        </li>
                        <li>
                          <p><em>Kubernetes YAML</em> ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ <em>Pod</em> ã‚’èµ·å‹•ã€‚</p>
                        </li>
                      </ol>
                    </div>
                    <div class="sect2">
                      <h3 id="_ã‚³ãƒãƒ³ãƒ‰ã§_pod_ã‚’ä½œæˆ">ã‚³ãƒãƒ³ãƒ‰ã§ <em>Pod</em> ã‚’ä½œæˆ</h3>
                      <div class="paragraph">
                        <p>ã¾ãšã¯ <code>podman</code> ã§ <em>Pod</em> ã‚’ä½œæˆãŠã‚ˆã³ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã™ã‚‹ã€‚</p>
                      </div>
                      <div class="exampleblock">
                        <div class="title">Example 1. Pod ã‚’ä½œæˆã—ã¦ã¿ã‚‹ä¾‹</div>
                        <div class="content">
                          <div class="listingblock no-line-numbers command-line">
                            <div class="title">Pod ã‚’ä½œæˆ</div>
                            <div class="content">
                              <pre class="highlight command-line" data-user="user" data-host="local"><code class="language-bash" data-lang="bash">podname="web-demo"
podman pod create \
  --name "${podname}" \   <i class="conum" data-value="1"></i><b>(1)</b>
  --hostname "${podname}" \
  --publish 8080:80</code></pre>
                            </div>
                          </div>
                          <div class="colist arabic">
                            <table>
                              <tr>
                                <td><i class="conum" data-value="1"></i><b>1</b></td>
                                <td>ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æ™‚ã«å‚ç…§ã™ã‚‹ã®ã§ã€<em>Pod</em> åã‚’è¨­å®šã—ã¦ãŠãã“ã¨ã‚’æ¨å¥¨ã€‚</td>
                              </tr>
                            </table>
                          </div>
                          <div class="listingblock no-line-numbers command-line">
                            <div class="title">ã‚³ãƒ³ãƒ†ãƒŠã‚’ Pod ã«æ‰€å±ã•ã›ã¦èµ·å‹•</div>
                            <div class="content">
                              <pre class="highlight command-line" data-user="user" data-host="local"><code class="language-bash" data-lang="bash">podman run --rm -d \
  --pod "${podname}" \  <i class="conum" data-value="1"></i><b>(1)</b>
  --name "some-nginx" \
  --expose 80 \
  docker.io/library/nginx:1.21-alpine</code></pre>
                            </div>
                          </div>
                          <div class="colist arabic">
                            <table>
                              <tr>
                                <td><i class="conum" data-value="1"></i><b>1</b></td>
                                <td>æ‰€å±ã•ã›ã‚‹ <em>Pod</em> ã‚’æŒ‡å®šã€‚</td>
                              </tr>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="sect2">
                      <h3 id="_kubernetes_yaml_ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ"><em>Kubernetes YAML</em> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ</h3>
                      <div class="paragraph">
                        <p><code>podman generate kube</code> ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã‚Šã€ç¾åœ¨èµ·å‹•ä¸­ã® <em>Pod</em> ã‹ã‚‰ <em>Kubernetes YAML</em> ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã§ãã‚‹ã€‚</p>
                      </div>
                      <div class="admonitionblock important">
                        <table>
                          <tr>
                            <td class="icon">
                              <i class="fa icon-important" title="Important" data-md-icon="report"></i>
                            </td>
                            <td class="content">
                              <em>podman v3.0.1</em> ç¾åœ¨ã§ã¯ã¾ã é–‹ç™ºé€”ä¸­ã§ã‚ã‚‹ãŸã‚å®Œå…¨ãªå¤‰æ›ã¯ã§ãã¦ã„ãªã„ï¼ˆåå‰ä»˜ã <em>Volume</em> ã®ãƒã‚¦ãƒ³ãƒˆãªã©ã¯ç„¡è¦–ã•ã‚Œã‚‹ï¼‰ã€‚<br> ãã®ãŸã‚æ‰‹ä½œæ¥­ã§ã®ä¿®æ­£ãŒå¿…è¦ã¨ãªã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚
                            </td>
                          </tr>
                        </table>
                      </div>
                      <div class="exampleblock">
                        <div class="title">Example 2. podman ã§ Kubernetes YAML ã‚’ç”Ÿæˆã™ã‚‹</div>
                        <div class="content">
                          <div class="listingblock no-line-numbers command-line">
                            <div class="title">å¯¾è±¡ã® Pod ã‹ã‚‰ YAML ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹</div>
                            <div class="content">
                              <pre class="highlight command-line" data-user="user" data-host="local" data-output="10"><code class="language-bash" data-lang="bash">podman generate kube --filename demo-pod.yml "${podname}"    <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                            </div>
                          </div>
                          <div class="colist arabic">
                            <table>
                              <tr>
                                <td><i class="conum" data-value="1"></i><b>1</b></td>
                                <td><em>Pod</em> ã‹ã‚‰ <em>Kubernetes YAML</em> ã‚’ç”Ÿæˆã—ã¦å‡ºåŠ›ã™ã‚‹ã€‚<br> ã“ã“ã§ã¯å‡ºåŠ›ã•ã‚Œã‚‹å†…å®¹ã‚’ <code>demo-pod.yml</code> ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã—ã¦ã„ã‚‹ã€‚</td>
                              </tr>
                            </table>
                          </div>
                        </div>
                      </div>
                      <div class="admonitionblock note">
                        <table>
                          <tr>
                            <td class="icon">
                              <i class="fa icon-note" title="Note" data-md-icon="info"></i>
                            </td>
                            <td class="content"> åå‰ä»˜ã <em>Volume</em> ã‚’ãƒã‚¦ãƒ³ãƒˆã—ã¦ã„ã‚‹å ´åˆã€ãã®è¨­å®šã¯æ›¸ãå‡ºã—ã¦ãã‚Œãªã‹ã£ãŸã®ã§å¾Œè¿°ã®ä¿®æ­£ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚‹ã€‚ </td>
                          </tr>
                        </table>
                      </div>
                    </div>
                    <div class="sect2">
                      <h3 id="_kubernetes_yaml_ã‹ã‚‰_pod_èµ·å‹•"><em>Kubernetes YAML</em> ã‹ã‚‰ <em>Pod</em> èµ·å‹•</h3>
                      <div class="paragraph">
                        <p>ä¸Šè¨˜ã§ç”Ÿæˆã—ãŸ <em>Kubernetes YAML</em> ã‹ã‚‰ <em>Pod</em> ã‚’èµ·å‹•ã—ã¦ã¿ã‚‹ã€‚</p>
                      </div>
                      <div class="exampleblock">
                        <div class="title">Example 3. Kubenters YAML ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ Pod èµ·å‹•</div>
                        <div class="content">
                          <div class="listingblock no-line-numbers command-line">
                            <div class="title">Pod èµ·å‹•</div>
                            <div class="content">
                              <pre class="highlight command-line" data-user="user" data-host="local" data-output="2-10"><code class="language-bash" data-lang="bash">podman play kube demo-pod.yml</code></pre>
                            </div>
                          </div>
                          <div class="listingblock no-line-numbers command-line">
                            <div class="title">Pod å‰Šé™¤</div>
                            <div class="content">
                              <pre class="highlight command-line" data-user="user" data-host="local" data-output="2-10"><code class="language-bash" data-lang="bash">podman pod rm --force &lt;pod name></code></pre>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="admonitionblock note">
                        <table>
                          <tr>
                            <td class="icon">
                              <i class="fa icon-note" title="Note" data-md-icon="info"></i>
                            </td>
                            <td class="content">
                              <em>Kubernetes YAML</em> ã«ã¤ã„ã¦ã¯ <code>podman</code> ã§å¯¾å¿œã—ã¦ã„ãªã„æ›¸å¼ã‚‚å¤šã„ãŸã‚ã€<br>
                              <code>podman generate kube</code> ã«ã‚ˆã‚Šç”Ÿæˆã•ã‚ŒãŸã‚‚ã®ä»¥å¤–ã‚’ä½¿ã†å ´åˆã¯æ³¨æ„ãŒå¿…è¦ã€‚
                            </td>
                          </tr>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="sect1">
                  <h2 id="_kubernetes_yaml_ã«ã¤ã„ã¦ã®è£œè¶³"><em>Kubernetes YAML</em> ã«ã¤ã„ã¦ã®è£œè¶³</h2>
                  <div class="sectionbody">
                    <div class="paragraph">
                      <p><code>podman</code> ã‹ã‚‰åˆ©ç”¨ã™ã‚‹ã«ã‚ãŸã£ã¦å¿…è¦ãã†ãªéƒ¨åˆ†ã ã‘è£œè¶³ã€‚</p>
                    </div>
                    <div class="sect2">
                      <h3 id="_æ›¸å¼ã‚µãƒ³ãƒ—ãƒ«">æ›¸å¼ã‚µãƒ³ãƒ—ãƒ«</h3>
                      <div class="paragraph">
                        <p><em>Kubernetes YAML</em> ãƒ•ã‚¡ã‚¤ãƒ«ã®æ›¸å¼ã«ã¤ã„ã¦ã¯ <a href="https://kubernetes.io/docs/reference/kubernetes-api/" target="_blank" rel="noopener">Kubernetes API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã¨ã«ã‚‰ã‚ã£ã“ã™ã‚‹ã—ã‹ãªã•ãã†ï¼Ÿ<br> å…ƒã€…ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼å´ãŒè¨˜è¿°ã™ã‚‹äºˆå®šã§ã¯ãªã‹ã£ãŸã‚‰ã—ã„ã®ã§ã€ã¤ã‚‰ã„ã€‚</p>
                      </div>
                      <div class="paragraph">
                        <p>åŸºæœ¬çš„ã«ã¯ <code>podman generate kube</code> ã§ç”Ÿæˆã™ã‚‹ã®ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¿½è¨˜ã™ã‚‹ã®ã¯ <code>metadata</code> ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰éƒ¨åˆ†ã«ãªã‚‹ã¯ãšã€‚</p>
                      </div>
                      <div class="exampleblock">
                        <div class="title">Example 4. Pod ã® YAML ã‚µãƒ³ãƒ—ãƒ«</div>
                        <div class="content">
                          <div class="listingblock">
                            <div class="title">sample-kubernetes.yml</div>
                            <div class="content">
                              <pre class="highlight"><code class="language-yaml" data-lang="yaml">kind: Pod   <i class="conum" data-value="1"></i><b>(1)</b>
metadata:   <i class="conum" data-value="2"></i><b>(2)</b>
  name: demo-nginx  <i class="conum" data-value="3"></i><b>(3)</b>
  creationTimestamp: "2021-09-11T12:00:00Z"
  labels:       <i class="conum" data-value="4"></i><b>(4)</b>
    app: nginx
  annotations:  <i class="conum" data-value="5"></i><b>(5)</b>
    version: "0.1.2"
    update_at: "2021-09-14"
    homepage: "https://example.com"

spec:   <i class="conum" data-value="6"></i><b>(6)</b>
  containers:
  - image: docker.io/library/nginx:1.21-alpine
    name: some-nginx
    ports:
    - containerPort: 80
      hostPort: 8080
      protocol: TCP</code></pre>
                            </div>
                          </div>
                          <div class="colist arabic">
                            <table>
                              <tr>
                                <td><i class="conum" data-value="1"></i><b>1</b></td>
                                <td><em>Podman</em> ã§åˆ©ç”¨ã™ã‚‹å ´åˆã¯ <strong>Pod</strong> ã«ã—ã¦ãŠã‘ã°ã„ã„ã€‚</td>
                              </tr>
                              <tr>
                                <td><i class="conum" data-value="2"></i><b>2</b></td>
                                <td><a href="https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/" target="_blank" rel="noopener"><code>ObjectMeta</code></a> å‹ã€‚<br> ä½œæˆã™ã‚‹ <em>Pod</em> ã®åå‰ã‚„ãƒ©ãƒ™ãƒ«ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ã‚’æŒ‡å®šã™ã‚‹ã€‚</td>
                              </tr>
                              <tr>
                                <td><i class="conum" data-value="3"></i><b>3</b></td>
                                <td>ä½œæˆã™ã‚‹ <em>Pod</em> ã®åå‰ã‚’æŒ‡å®šã™ã‚‹ã€‚</td>
                              </tr>
                              <tr>
                                <td><i class="conum" data-value="4"></i><b>4</b></td>
                                <td>æ–‡å­—åˆ—ã®ã‚­ãƒ¼ã¨å€¤ã®ãƒãƒƒã‚·ãƒ¥ï¼ˆ<em>Map</em>ï¼‰ã€‚<br> ã“ã®å€¤ã‚’ä½¿ã£ã¦æ¤œç´¢ãŒã§ãã‚‹ã€‚</td>
                              </tr>
                              <tr>
                                <td><i class="conum" data-value="5"></i><b>5</b></td>
                                <td>æ–‡å­—åˆ—ã®ã‚­ãƒ¼ã¨å€¤ã®ãƒãƒƒã‚·ãƒ¥ï¼ˆ<em>Map</em>ï¼‰ã€‚<br> ãƒ©ãƒ™ãƒ«ã¨é•ã£ã¦æ¤œç´¢ç”¨é€”ã«ã¯ä½¿ãˆãªã„ã€‚</td>
                              </tr>
                              <tr>
                                <td><i class="conum" data-value="6"></i><b>6</b></td>
                                <td><em>Pod</em> ã®ä»•æ§˜è¨­å®šã€‚<br> åŸºæœ¬çš„ã« <code>podman generate kube</code> ã‹ã‚‰ã®è‡ªå‹•ç”Ÿæˆã«ã¾ã‹ã›ã¦ãŠã‘ã°ã„ã„ã€‚</td>
                              </tr>
                            </table>
                          </div>
                        </div>
                      </div>
                      <div class="sect3">
                        <h4 id="_ãƒ©ãƒ™ãƒ«ã¨ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³">ãƒ©ãƒ™ãƒ«ã¨ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³</h4>
                        <div class="dlist">
                          <div class="title">ãƒ©ãƒ™ãƒ«ã¨ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®é•ã„</div>
                          <dl>
                            <dt class="hdlist1">ãƒ©ãƒ™ãƒ«</dt>
                            <dd>
                              <p>è­˜åˆ¥å€¤ã¨ã—ã¦ã€æ¤œç´¢ã‚„ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ã«ä½¿ã†ä»»æ„ã®ãƒãƒƒã‚·ãƒ¥ã‚’è¨­å®šã™ã‚‹ã€‚</p>
                            </dd>
                            <dt class="hdlist1">ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³</dt>
                            <dd>
                              <p>ãƒ©ãƒ™ãƒ«ã¨ã—ã¦ä½¿ã‚ãªã„æƒ…å ±ãªã‚‰ä½•ã§ã‚‚ã€‚<br> å¤–éƒ¨ãƒ„ãƒ¼ãƒ«ãŒã“ã“ã®æƒ…å ±ã‚’åˆ©ç”¨ã—ãŸã‚Šã™ã‚‹ã€‚</p>
                              <div class="paragraph">
                                <p><em>ä¾‹ï¼š Gitãƒ–ãƒ©ãƒ³ãƒåã€ãƒãƒƒã‚·ãƒ¥å€¤ã€ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ„ãƒ¼ãƒ«â€¦â€‹ ãªã©ã€‚</em></p>
                              </div>
                            </dd>
                          </dl>
                        </div>
                        <div class="admonitionblock caution">
                          <table>
                            <tr>
                              <td class="icon">
                                <i class="fa icon-caution" title="Caution" data-md-icon="local_fire_department"></i>
                              </td>
                              <td class="content">
                                <div class="title">å€¤ã®å‹ã«ã¤ã„ã¦</div>
                                <div class="paragraph">
                                  <p><code>metadata.labels</code> ãŠã‚ˆã³ <code>metadata.annotations</code> ã§è¨±å®¹ã•ã‚Œã‚‹ã®ã¯å¹³å¦ãªãƒãƒƒã‚·ãƒ¥ã®ã¿ã€‚<br> ã†ã£ã‹ã‚Šãƒã‚¹ãƒˆã•ã›ã¦ã—ã¾ã†ã¨æ¬¡ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã€‚</p>
                                </div>
                                <div class="exampleblock">
                                  <div class="content">
                                    <div class="listingblock">
                                      <div class="title">wrong-metadata.yml</div>
                                      <div class="content">
                                        <pre class="highlight"><code class="language-yaml" data-lang="yaml">kind: Pod
metadata:
  name: wrong-metadata
  annotations:
    parent:
      child: "hoge"
spec: # ...</code></pre>
                                      </div>
                                    </div>
                                    <div class="listingblock no-line-numbers command-line">
                                      <div class="title">Error!</div>
                                      <div class="content">
                                        <pre class="highlight command-line" data-user="user" data-host="local" data-output="2-10"><code class="language-bash" data-lang="bash">podman play kube wrong-metadata.yml
Error: unable to read YAML "wrong-metadata.yml" as Kube Pod:
  error unmarshaling JSON:
    json: cannot unmarshal object into Go struct field ObjectMeta.metadata.annotations of type string</code></pre>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </td>
                            </tr>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="sect1">
                  <h2 id="_ç”Ÿæˆã•ã‚ŒãŸ_kubernetes_yaml_ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£">ç”Ÿæˆã•ã‚ŒãŸ <em>Kubernetes YAML</em> ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£</h2>
                  <div class="sectionbody">
                    <div class="paragraph">
                      <p><code>podman</code> ã§è‡ªå‹•ç”Ÿæˆã—ãŸã‚ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªäº‹æŸ„ã§ã¯æ‰‹ç›´ã—ãŒå¿…è¦ã‹ã‚‚ã—ã‚Œãªã„ã€‚</p>
                    </div>
                    <div class="sect2">
                      <h3 id="_ä¸è¦ãªç’°å¢ƒå¤‰æ•°ã®å‰Šé™¤">ä¸è¦ãªç’°å¢ƒå¤‰æ•°ã®å‰Šé™¤</h3>
                      <div class="paragraph">
                        <p><code>podman generate</code> ã§ç”Ÿæˆã•ã‚ŒãŸ <em>Kubernetes YAML</em> ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã€ã‚³ãƒ³ãƒ†ãƒŠã«å­˜åœ¨ã™ã‚‹ã™ã¹ã¦ã®ç’°å¢ƒå¤‰æ•°ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã€‚<br> ã¤ã¾ã‚Šã€ã‚³ãƒ³ãƒ†ãƒŠã«ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã•ã‚Œã¦ã„ã‚‹ç’°å¢ƒå¤‰æ•°ã‚‚å«ã¾ã‚Œã‚‹ã€‚</p>
                      </div>
                      <div class="paragraph">
                        <p>ã“ã®ã¾ã¾ã ã¨ã‚³ãƒ³ãƒ†ãƒŠé‹ç”¨æ™‚ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒã‚ã‚“ã©ãã•ããªã‚‹ã®ã§ã€ä¸è¦ãªç’°å¢ƒå¤‰æ•°ã®æŒ‡å®šã«ã¤ã„ã¦ã¯å‰Šé™¤ã—ã¦ãŠãã€‚</p>
                      </div>
                    </div>
                    <div class="sect2">
                      <h3 id="_åå‰ä»˜ã_volume_ã‚’åˆ©ç”¨ã—ãŸã„">åå‰ä»˜ã <em>Volume</em> ã‚’åˆ©ç”¨ã—ãŸã„</h3>
                      <div class="paragraph">
                        <p><code>podman play kube</code> ã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ <em>Volume</em> ã¯ <code>hostPath</code> ã¨ <code>persistentVolumeClaim</code> ã®2ã¤ã®ã¿ï¼ˆ<a href="https://docs.podman.io/en/v3.3.1/markdown/podman-play-kube.1.html" target="_blank" rel="noopener">å‚è€ƒ</a>ï¼‰ã€‚<br> ã“ã®ã†ã¡ <strong><code>persistentVolumeClaim</code></strong> ãŒåå‰ä»˜ã <em>Volume</em> ã«å¯¾å¿œã™ã‚‹ã€‚</p>
                      </div>
                      <div class="exampleblock">
                        <div class="title">Example 5. Kubernetes YAML ã«ã¦åå‰ä»˜ã Volume ã‚’åˆ©ç”¨ã™ã‚‹æ›¸ãæ–¹</div>
                        <div class="content">
                          <div class="listingblock">
                            <div class="title">with-named-volume.yml</div>
                            <div class="content">
                              <pre class="highlight"><code class="language-yaml" data-lang="yaml"># Kubernetes YAML
---
kind: Pod
metadata:
  name: demo-nginx
  creationTimestamp: "2021-09-11T12:00:00Z"
  labels:
    app: nginx

spec:
  containers:
  - image: docker.io/library/nginx:1.21-alpine
    name: some-nginx
    ports:
    - containerPort: 80
      hostPort: 8080
      protocol: TCP
    volumeMounts:   <i class="conum" data-value="1"></i><b>(1)</b>
    - mountPath: /usr/share/nginx/html
      name: contents
  volumes:
  - name: contents
    persistentVolumeClaim:    <i class="conum" data-value="1"></i><b>(1)</b> <i class="conum" data-value="2"></i><b>(2)</b>
      claimName: nginx-contents   <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
                            </div>
                          </div>
                          <div class="colist arabic">
                            <table>
                              <tr>
                                <td><i class="conum" data-value="1"></i><b>1</b></td>
                                <td><em>Pod</em> ã«ãŠã„ã¦ <code>persistentVolumeClaim</code> ã¯ <em>Volume</em> ã¨ã—ã¦æ‰±ã†ãŸã‚ã€ã“ã®ã‚ˆã†ãªæ›¸å¼ã¨ãªã‚‹ã€‚</td>
                              </tr>
                              <tr>
                                <td><i class="conum" data-value="2"></i><b>2</b></td>
                                <td><code>podman</code> ã«ãŠã„ã¦ <code>persistentVolumeClaim</code> å‹ãŒåå‰ä»˜ã <em>Volume</em> ã«ç›¸å½“ã™ã‚‹ã€‚</td>
                              </tr>
                              <tr>
                                <td><i class="conum" data-value="3"></i><b>3</b></td>
                                <td>åå‰ä»˜ã <em>Volume</em> ã®æŒ‡å®šã€‚å­˜åœ¨ã—ãªã‘ã‚Œã°æ–°è¦ä½œæˆã•ã‚Œã‚‹ã€‚</td>
                              </tr>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="sect2">
                      <h3 id="_åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã§å€¤ã‚’å®šç¾©ã—ãŸã„">åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã§å€¤ã‚’å®šç¾©ã—ãŸã„</h3>
                      <div class="paragraph">
                        <p><a href="https://kubernetes.io/ja/docs/concepts/configuration/configmap/" target="_blank" rel="noopener"><em>ConfigMap</em></a> ã‚’åˆ©ç”¨ã—ã¦ç’°å¢ƒå¤‰æ•°ã«å€¤ã‚’æ³¨å…¥ã§ãã‚‹ã€‚</p>
                      </div>
                      <div class="admonitionblock warning">
                        <table>
                          <tr>
                            <td class="icon">
                              <i class="fa icon-warning" title="Warning" data-md-icon="warning"></i>
                            </td>
                            <td class="content">
                              <em>ConfigMap</em> ã¯æ©Ÿå¯†æ€§ã‚„æš—å·åŒ–ã®æ©Ÿèƒ½ã‚’ã‚‚ãŸãªã„ã®ã§ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã©ã®æ©Ÿå¯†æƒ…å ±ã«ã¤ã„ã¦ã¯ <em>Secret</em> ã‚’ä½¿ã†ã¹ãã€‚<br> ãŸã ã€æ®‹å¿µãªãŒã‚‰ <code>podman play kube</code> ã§ã¯ <em>Secret</em> ãŒæœªå®Ÿè£…ã€‚
                            </td>
                          </tr>
                        </table>
                      </div>
                      <div class="exampleblock">
                        <div class="title">Example 6. ConfigMap ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å€¤ã‚’æ³¨å…¥ã™ã‚‹</div>
                        <div class="content">
                          <div class="listingblock">
                            <div class="title">ConfigMap ã®ä¾‹</div>
                            <div class="content">
                              <pre class="highlight"><code class="language-yaml" data-lang="yaml"># ConfigMap
# demo-nginx-configmap1.yml
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-config1   <i class="conum" data-value="1"></i><b>(1)</b>
data:   <i class="conum" data-value="2"></i><b>(2)</b>
  NGINX_HOST: foobar.com  <i class="conum" data-value="3"></i><b>(3)</b>
  NGINX_PORT: 80          <i class="conum" data-value="3"></i><b>(3)</b>

# demo-nginx-configmap2.yml
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-config2   <i class="conum" data-value="1"></i><b>(1)</b>
data:   <i class="conum" data-value="2"></i><b>(2)</b>
  template_dir: /etc/nginx/templates</code></pre>
                            </div>
                          </div>
                          <div class="colist arabic">
                            <table>
                              <tr>
                                <td><i class="conum" data-value="1"></i><b>1</b></td>
                                <td><strong>å¿…é ˆ</strong>: å‚ç…§ã•ã‚Œã‚‹ã¨ãã«ä½¿ã‚ã‚Œã‚‹ã‚­ãƒ¼ã€‚</td>
                              </tr>
                              <tr>
                                <td><i class="conum" data-value="2"></i><b>2</b></td>
                                <td>å‚ç…§ã•ã‚Œã‚‹å€¤ã€‚æ–‡å­—åˆ—ã®ã‚­ãƒ¼ã¨å€¤ã®ãƒãƒƒã‚·ãƒ¥ï¼ˆ<em>Map</em>ï¼‰ã‚’æ ¼ç´ã€‚</td>
                              </tr>
                              <tr>
                                <td><i class="conum" data-value="3"></i><b>3</b></td>
                                <td>ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦æŒ‡å®šã€‚å¾Œè¿°ã™ã‚‹ <code>envFrom</code> ã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã‚‹ã€‚</td>
                              </tr>
                            </table>
                          </div>
                          <div class="listingblock">
                            <div class="title">demo-nginx.yml</div>
                            <div class="content">
                              <pre class="highlight"><code class="language-yaml" data-lang="yaml"># Kubernetes YAML
---
kind: Pod
metadata:
  name: demo-nginx
  creationTimestamp: "2021-09-11T12:00:00Z"
  labels:
    app: nginx
spec:
  containers:
  - image: docker.io/library/nginx:1.21-alpine
    name: some-nginx
    env:
    - name: NGINX_ENVSUBST_TEMPLATE_DIR
      valueFrom:  <i class="conum" data-value="1"></i><b>(1)</b>
        configMapKeyRef:
          name: nginx-config2 <i class="conum" data-value="2"></i><b>(2)</b>
          key: template_dir   <i class="conum" data-value="3"></i><b>(3)</b>
    envFrom:  <i class="conum" data-value="4"></i><b>(4)</b>
    - configMapRef:
        name: nginx-config1
    ports:
    - containerPort: 80
      hostPort: 8080
      protocol: TCP</code></pre>
                            </div>
                          </div>
                          <div class="colist arabic">
                            <table>
                              <tr>
                                <td><i class="conum" data-value="1"></i><b>1</b></td>
                                <td>ç’°å¢ƒå¤‰æ•°ã®å€¤ã«ã¤ã„ã¦ <em>ConfigMap</em> ã‚’å‚ç…§ã™ã‚‹ã€‚</td>
                              </tr>
                              <tr>
                                <td><i class="conum" data-value="2"></i><b>2</b></td>
                                <td>å‚ç…§ã—ãŸã„ <em>ConfigMap</em> ãƒ•ã‚¡ã‚¤ãƒ«ã® <code>metadata.name</code> ã‚’æŒ‡å®šã€‚</td>
                              </tr>
                              <tr>
                                <td><i class="conum" data-value="3"></i><b>3</b></td>
                                <td>å‚ç…§ã™ã‚‹ <code>data</code> ã®ã‚­ãƒ¼ã‚’æŒ‡å®šã€‚</td>
                              </tr>
                              <tr>
                                <td><i class="conum" data-value="4"></i><b>4</b></td>
                                <td><em>ConfigMap</em> ã® <code>data</code> ã‚’ã™ã¹ã¦ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦å–ã‚Šè¾¼ã¿ãŸã„å ´åˆã¯ <code>envFrom</code> ã‚’åˆ©ç”¨ã™ã‚‹ã€‚</td>
                              </tr>
                            </table>
                          </div>
                          <div class="listingblock no-line-numbers command-line">
                            <div class="title">ConfigMapã‚’åˆ©ç”¨ã—ã¦èµ·å‹•</div>
                            <div class="content">
                              <pre class="highlight command-line" data-user="user" data-host="local"><code class="language-bash" data-lang="bash">podman play kube demo-nginx.yml \
  --configmap demo-nginx-configmap1.yml \   <i class="conum" data-value="1"></i><b>(1)</b>
  --configmap demo-nginx-configmap2.yml     <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                            </div>
                          </div>
                          <div class="colist arabic">
                            <table>
                              <tr>
                                <td><i class="conum" data-value="1"></i><b>1</b></td>
                                <td><code>--configmap</code> ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯è¤‡æ•°å›æŒ‡å®šã§ãã‚‹ã€‚</td>
                              </tr>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="sect1">
                  <h2 id="_ãŠã‚ã‚Šã«">ãŠã‚ã‚Šã«</h2>
                  <div class="sectionbody">
                    <div class="paragraph">
                      <p><code>podman</code> ã§ <em>Kubernetes YAML</em> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•ç”Ÿæˆã§ãã‚‹ã®ã§ã€ä½¿ã†ã ã‘ãªã‚‰ç°¡å˜ã§ã†ã‚Œã—ã„ã€‚<br> åå‰ä»˜ã <em>Volume</em> ã®è¨­å®šã¯è‡ªå‹•ç”Ÿæˆã•ã‚Œãªã‹ã£ãŸã®ã§ã€ãã“ã ã‘æ³¨æ„ã—ã¦ãŠãã€‚</p>
                    </div>
                  </div>
                </div>
                <div class="sect1">
                  <h2 id="_å‚è€ƒ">å‚è€ƒ</h2>
                  <div class="sectionbody">
                    <div class="ulist">
                      <div class="title">Podman</div>
                      <ul>
                        <li>
                          <p><a href="https://docs.podman.io/en/latest/markdown/podman-play-kube.1.html" target="_blank" rel="noopener">podman-play-kube(1) â€” Podman documentation</a></p>
                        </li>
                        <li>
                          <p><a href="https://docs.podman.io/en/latest/markdown/podman-generate-kube.1.html" target="_blank" rel="noopener">podman-generate-kube(1) â€” Podman documentation</a></p>
                        </li>
                      </ul>
                    </div>
                    <div class="ulist">
                      <div class="title">Docker Compose â†’ Kubernetes YAML</div>
                      <ul>
                        <li>
                          <p><a href="https://balagetech.com/convert-docker-compose-services-to-pods/" target="_blank" rel="noopener">Convert docker-compose services to pods with Podman - Balage Tech blog</a></p>
                        </li>
                        <li>
                          <p><a href="https://qiita.com/thirdpenguin/items/c9e58c27e96f02b0a96d" target="_blank" rel="noopener">Podman ã§ Compose ã—ãŸã‹ã£ãŸã‚‰ã©ã†ã™ã‚‹ã®ï¼Ÿ - Qiita</a></p>
                        </li>
                      </ul>
                    </div>
                    <div class="ulist">
                      <div class="title">Kubernetes YAML</div>
                      <ul>
                        <li>
                          <p><a href="https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/" target="_blank" rel="noopener">Pod | Kubernetes</a></p>
                        </li>
                        <li>
                          <p><a href="https://kubernetes.io/ja/docs/concepts/configuration/configmap/" target="_blank" rel="noopener">ConfigMap | Kubernetes</a></p>
                        </li>
                        <li>
                          <p><a href="https://kubernetes.io/docs/tasks/inject-data-application/_print/" target="_blank" rel="noopener">Inject Data Into Applications | Kubernetes</a></p>
                        </li>
                        <li>
                          <p><a href="https://kubernetes.io/ja/docs/concepts/overview/working-with-objects/labels/" target="_blank" rel="noopener">ãƒ©ãƒ™ãƒ«(Labels)ã¨ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼(Selectors) | Kubernetes</a></p>
                        </li>
                        <li>
                          <p><a href="https://kubernetes.io/ja/docs/concepts/overview/working-with-objects/annotations/" target="_blank" rel="noopener">ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³(Annotations) | Kubernetes</a></p>
                        </li>
                      </ul>
                    </div>
                    <div class="ulist">
                      <div class="title">Kubernetes PersistentVolume</div>
                      <ul>
                        <li>
                          <p><a href="https://kubernetes.io/ja/docs/concepts/storage/persistent-volumes/" target="_blank" rel="noopener">æ°¸ç¶šãƒœãƒªãƒ¥ãƒ¼ãƒ  | Kubernetes</a></p>
                        </li>
                        <li>
                          <p><a href="https://www.netone.co.jp/knowledge-center/netone-blog/20191206-1/" target="_blank" rel="noopener">Kubernetesã®ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–å…¥é–€ | ãƒãƒƒãƒˆãƒ¯ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã‚º</a></p>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="share-buttons mt-8">
              <ul class="flex items-center justify-center" data-v-6cf1db65>
                <li class="share-button ml-4 first:ml-0" data-v-6cf1db65>
                  <div data-v-6cf1db65 data-v-6b9fb88e>
                    <div rel="nofollow" class="share-button rounded-md w-10 h-10 p-2" data-v-6b9fb88e>
                      <div data-v-6cf1db65 data-v-6b9fb88e><a href="https://twitter.com/intent/tweet?text=podman+%E3%81%A7+docker-compose+%E3%81%AE%E4%BB%A3%E3%82%8F%E3%82%8A%E3%81%AB+Kubernetes+YAML+%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F&url=https%3A%2F%2Fvlike-vlife.netlify.app%2Fposts%2Fpodman_kubernetes_yaml" target="_blank" class="material-icons mdc-icon-button w-full h-full" data-v-6cf1db65 data-v-0c784d82><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current" data-v-6cf1db65 data-v-6b9fb88e>
                            <title data-v-4b4cfb63>Twitter</title>
                            <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z" data-v-4b4cfb63></path>
                          </svg></a></div>
                    </div>
                  </div>
                </li>
                <li class="share-button ml-4 first:ml-0" data-v-6cf1db65>
                  <div data-v-6cf1db65 data-v-083f3255>
                    <div rel="nofollow" class="share-button rounded-md w-10 h-10 p-2" data-v-083f3255>
                      <div data-v-6cf1db65 data-v-083f3255><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fvlike-vlife.netlify.app%2Fposts%2Fpodman_kubernetes_yaml" target="_blank" class="material-icons mdc-icon-button w-full h-full" data-v-6cf1db65 data-v-0c784d82><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current" data-v-6cf1db65 data-v-083f3255>
                            <title data-v-4b4cfb63>Facebook</title>
                            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" data-v-4b4cfb63></path>
                          </svg></a></div>
                    </div>
                  </div>
                </li>
                <li class="share-button ml-4 first:ml-0" data-v-6cf1db65>
                  <div data-v-6cf1db65 data-v-a2dd0576>
                    <div rel="nofollow" class="share-button rounded-md w-10 h-10 p-2" data-v-a2dd0576>
                      <div data-v-6cf1db65 data-v-a2dd0576><a href="https://getpocket.com/edit?url=https%3A%2F%2Fvlike-vlife.netlify.app%2Fposts%2Fpodman_kubernetes_yaml" target="_blank" class="material-icons mdc-icon-button w-full h-full" data-v-6cf1db65 data-v-0c784d82><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current" data-v-6cf1db65 data-v-a2dd0576>
                            <title data-v-4b4cfb63>Pocket</title>
                            <path d="M18.813 10.259l-5.646 5.419c-.32.305-.73.458-1.141.458-.41 0-.821-.153-1.141-.458l-5.646-5.419c-.657-.628-.677-1.671-.049-2.326.63-.657 1.671-.679 2.325-.05l4.511 4.322 4.517-4.322c.66-.631 1.697-.607 2.326.049.631.645.615 1.695-.045 2.326l-.011.001zm5.083-7.546c-.299-.858-1.125-1.436-2.041-1.436H2.179c-.9 0-1.717.564-2.037 1.405-.094.25-.142.511-.142.774v7.245l.084 1.441c.348 3.277 2.047 6.142 4.682 8.139.045.036.094.07.143.105l.03.023c1.411 1.03 2.989 1.728 4.694 2.072.786.158 1.591.24 2.389.24.739 0 1.481-.067 2.209-.204.088-.029.176-.045.264-.06.023 0 .049-.015.074-.029 1.633-.36 3.148-1.036 4.508-2.025l.029-.031.135-.105c2.627-1.995 4.324-4.862 4.686-8.148L24 10.678V3.445c0-.251-.031-.5-.121-.742l.017.01z" data-v-4b4cfb63></path>
                          </svg></a></div>
                    </div>
                  </div>
                </li>
                <li class="share-button ml-4 first:ml-0" data-v-6cf1db65>
                  <div data-v-6cf1db65 data-v-492a0c04>
                    <div rel="nofollow" class="share-button rounded-md w-10 h-10 p-2" data-v-492a0c04>
                      <div data-v-6cf1db65 data-v-492a0c04><button class="material-icons mdc-icon-button w-full h-full" data-v-6cf1db65 data-v-0c784d82><span title="Copy URL" class="material-icons" data-v-6cf1db65>link</span></button></div>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
            <ul class="grid grid-cols-2 gap-12 border-t border-b border-grey-500 py-2 mt-6">
              <li class="flex items-center justify-end"><a href="/posts/linux_bash_completion" class="link inline-flex justify-center px-4"><span>bash ã®è£œå®Œã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆbash-completionï¼‰ãƒ•ã‚¡ã‚¤ãƒ«ã£ã¦ã©ã“ã«é…ç½®ã™ã‚Œã°ã„ã„ã®ï¼Ÿ</span></a> <span class="material-icons transform rotate-180">double_arrow</span></li>
              <li class="flex items-center fustify-start"><span class="material-icons">double_arrow</span> <a href="/posts/linux_tmux_autostart" class="link inline-flex justify-center px-4"><span>SSHæ¥ç¶šæ™‚ã« tmux ã‚’è‡ªå‹•èµ·å‹•ã•ã›ã‚‹</span></a></li>
            </ul>
          </div>
        </main>
        <footer class="footerbar mt-8" data-v-a0bb2a58>
          <ul class="flex justify-center items-center" data-v-a0bb2a58>
            <li data-v-a0bb2a58><a href="/" class="p-2 block nuxt-link-active" data-v-a0bb2a58>Home</a></li>
            <li data-v-a0bb2a58><a href="/contact" class="p-2 block" data-v-a0bb2a58>ãŠå•ã„åˆã‚ã›</a></li>
            <li data-v-a0bb2a58><a href="/privacy-policy" class="p-2 block" data-v-a0bb2a58>ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></li>
            <li class="mx-4 absolute right-0" data-v-a0bb2a58><a href="/feeds/atom.xml" title="atom 1.0" class="p-2 block" data-v-a0bb2a58><span class="material-icons" data-v-a0bb2a58>rss_feed</span></a></li>
          </ul>
        </footer>
      </div>
    </div>
  </div>
  <script defer src="/_nuxt/static/2023013021/posts/podman_kubernetes_yaml/state.js"></script>
  <script src="/_nuxt/0e5221e.js" defer></script>
  <script src="/_nuxt/cf45fea.js" defer></script>
  <script src="/_nuxt/73d1167.js" defer></script>
  <script src="/_nuxt/8f5170d.js" defer></script>
  <script src="/_nuxt/4fde5eb.js" defer></script>
  <script src="/_nuxt/61ba754.js" defer></script>
</body>

</html>
